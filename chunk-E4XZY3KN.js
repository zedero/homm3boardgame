import{$ as Ce,B as we,C as ha,D as ui,G as ma,H as xe,J as pa,M as rt,N as va,O as ye,P as ba,Q as ga,R as Lt,S as ka,T as Pt,U as wa,Y as xa,Z as Bt,_ as ya,aa as Ca,ba as Sa,ca as Ea,da as Ma,ea as Ta,ia as nt,ma as Da,na as Ia,o as $,oa as Ra,pa as Oa,ua as Ge,w as Ft,x as ua,y as _a}from"./chunk-PJ5ELFWE.js";import{$a as na,$b as si,Ab as _,Ba as ta,Bb as f,Ca as ia,Cb as N,Db as Re,Fa as Je,Fb as x,Ga as Dt,Gb as ie,Hb as la,Ia as ri,Ib as da,Ja as ni,Kb as ca,La as Ze,Lb as di,Mb as zt,Nb as At,Pb as v,Qa as aa,Qb as et,Rb as ci,Sb as tt,Tb as it,Ua as ra,Ub as at,Vb as sa,Xa as C,a as Mt,ab as P,b as Ji,bc as he,c as q,cc as fi,d as Rn,ec as W,fa as ea,ga as Tt,gb as G,ib as It,ja as Qe,kb as Rt,lc as fa,ma as D,qb as oi,rb as z,sb as oa,tb as li,vc as H,wa as ge,wb as Ot,xa as ke,xb as oe,yb as le,zb as de}from"./chunk-IEC7RUIM.js";var me=q(V=>{"use strict";var Fn=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Ln(e,a){return Object.prototype.hasOwnProperty.call(e,a)}V.assign=function(e){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var t=a.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var i in t)Ln(t,i)&&(e[i]=t[i])}}return e};V.shrinkBuf=function(e,a){return e.length===a?e:e.subarray?e.subarray(0,a):(e.length=a,e)};var Pn={arraySet:function(e,a,t,i,r){if(a.subarray&&e.subarray){e.set(a.subarray(t,t+i),r);return}for(var n=0;n<i;n++)e[r+n]=a[t+n]},flattenChunks:function(e){var a,t,i,r,n,o;for(i=0,a=0,t=e.length;a<t;a++)i+=e[a].length;for(o=new Uint8Array(i),r=0,a=0,t=e.length;a<t;a++)n=e[a],o.set(n,r),r+=n.length;return o}},Bn={arraySet:function(e,a,t,i,r){for(var n=0;n<i;n++)e[r+n]=a[t+n]},flattenChunks:function(e){return[].concat.apply([],e)}};V.setTyped=function(e){e?(V.Buf8=Uint8Array,V.Buf16=Uint16Array,V.Buf32=Int32Array,V.assign(V,Pn)):(V.Buf8=Array,V.Buf16=Array,V.Buf32=Array,V.assign(V,Bn))};V.setTyped(Fn)});var nr=q(je=>{"use strict";var Nn=me(),Zn=4,Pa=0,Ba=1,Gn=2;function He(e){for(var a=e.length;--a>=0;)e[a]=0}var Un=0,ja=1,Hn=2,jn=3,qn=258,gi=29,ut=256,dt=ut+1+gi,Ue=30,ki=19,qa=2*dt+1,Oe=15,_i=16,Vn=7,wi=256,Va=16,Ka=17,Ya=18,vi=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Zt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Kn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Xa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Yn=512,pe=new Array((dt+2)*2);He(pe);var lt=new Array(Ue*2);He(lt);var ct=new Array(Yn);He(ct);var st=new Array(qn-jn+1);He(st);var xi=new Array(gi);He(xi);var Gt=new Array(Ue);He(Gt);function hi(e,a,t,i,r){this.static_tree=e,this.extra_bits=a,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}var Wa,$a,Qa;function mi(e,a){this.dyn_tree=e,this.max_code=0,this.stat_desc=a}function Ja(e){return e<256?ct[e]:ct[256+(e>>>7)]}function ft(e,a){e.pending_buf[e.pending++]=a&255,e.pending_buf[e.pending++]=a>>>8&255}function Y(e,a,t){e.bi_valid>_i-t?(e.bi_buf|=a<<e.bi_valid&65535,ft(e,e.bi_buf),e.bi_buf=a>>_i-e.bi_valid,e.bi_valid+=t-_i):(e.bi_buf|=a<<e.bi_valid&65535,e.bi_valid+=t)}function ce(e,a,t){Y(e,t[a*2],t[a*2+1])}function er(e,a){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--a>0);return t>>>1}function Xn(e){e.bi_valid===16?(ft(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Wn(e,a){var t=a.dyn_tree,i=a.max_code,r=a.stat_desc.static_tree,n=a.stat_desc.has_stree,o=a.stat_desc.extra_bits,l=a.stat_desc.extra_base,u=a.stat_desc.max_length,d,c,S,h,s,b,p=0;for(h=0;h<=Oe;h++)e.bl_count[h]=0;for(t[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<qa;d++)c=e.heap[d],h=t[t[c*2+1]*2+1]+1,h>u&&(h=u,p++),t[c*2+1]=h,!(c>i)&&(e.bl_count[h]++,s=0,c>=l&&(s=o[c-l]),b=t[c*2],e.opt_len+=b*(h+s),n&&(e.static_len+=b*(r[c*2+1]+s)));if(p!==0){do{for(h=u-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[u]--,p-=2}while(p>0);for(h=u;h!==0;h--)for(c=e.bl_count[h];c!==0;)S=e.heap[--d],!(S>i)&&(t[S*2+1]!==h&&(e.opt_len+=(h-t[S*2+1])*t[S*2],t[S*2+1]=h),c--)}}function tr(e,a,t){var i=new Array(Oe+1),r=0,n,o;for(n=1;n<=Oe;n++)i[n]=r=r+t[n-1]<<1;for(o=0;o<=a;o++){var l=e[o*2+1];l!==0&&(e[o*2]=er(i[l]++,l))}}function $n(){var e,a,t,i,r,n=new Array(Oe+1);for(t=0,i=0;i<gi-1;i++)for(xi[i]=t,e=0;e<1<<vi[i];e++)st[t++]=i;for(st[t-1]=i,r=0,i=0;i<16;i++)for(Gt[i]=r,e=0;e<1<<Zt[i];e++)ct[r++]=i;for(r>>=7;i<Ue;i++)for(Gt[i]=r<<7,e=0;e<1<<Zt[i]-7;e++)ct[256+r++]=i;for(a=0;a<=Oe;a++)n[a]=0;for(e=0;e<=143;)pe[e*2+1]=8,e++,n[8]++;for(;e<=255;)pe[e*2+1]=9,e++,n[9]++;for(;e<=279;)pe[e*2+1]=7,e++,n[7]++;for(;e<=287;)pe[e*2+1]=8,e++,n[8]++;for(tr(pe,dt+1,n),e=0;e<Ue;e++)lt[e*2+1]=5,lt[e*2]=er(e,5);Wa=new hi(pe,vi,ut+1,dt,Oe),$a=new hi(lt,Zt,0,Ue,Oe),Qa=new hi(new Array(0),Kn,0,ki,Vn)}function ir(e){var a;for(a=0;a<dt;a++)e.dyn_ltree[a*2]=0;for(a=0;a<Ue;a++)e.dyn_dtree[a*2]=0;for(a=0;a<ki;a++)e.bl_tree[a*2]=0;e.dyn_ltree[wi*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function ar(e){e.bi_valid>8?ft(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Qn(e,a,t,i){ar(e),i&&(ft(e,t),ft(e,~t)),Nn.arraySet(e.pending_buf,e.window,a,t,e.pending),e.pending+=t}function Na(e,a,t,i){var r=a*2,n=t*2;return e[r]<e[n]||e[r]===e[n]&&i[a]<=i[t]}function pi(e,a,t){for(var i=e.heap[t],r=t<<1;r<=e.heap_len&&(r<e.heap_len&&Na(a,e.heap[r+1],e.heap[r],e.depth)&&r++,!Na(a,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i}function Za(e,a,t){var i,r,n=0,o,l;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+n*2]<<8|e.pending_buf[e.d_buf+n*2+1],r=e.pending_buf[e.l_buf+n],n++,i===0?ce(e,r,a):(o=st[r],ce(e,o+ut+1,a),l=vi[o],l!==0&&(r-=xi[o],Y(e,r,l)),i--,o=Ja(i),ce(e,o,t),l=Zt[o],l!==0&&(i-=Gt[o],Y(e,i,l)));while(n<e.last_lit);ce(e,wi,a)}function bi(e,a){var t=a.dyn_tree,i=a.stat_desc.static_tree,r=a.stat_desc.has_stree,n=a.stat_desc.elems,o,l,u=-1,d;for(e.heap_len=0,e.heap_max=qa,o=0;o<n;o++)t[o*2]!==0?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=u<2?++u:0,t[d*2]=1,e.depth[d]=0,e.opt_len--,r&&(e.static_len-=i[d*2+1]);for(a.max_code=u,o=e.heap_len>>1;o>=1;o--)pi(e,t,o);d=n;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pi(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[d*2]=t[o*2]+t[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=d,e.heap[1]=d++,pi(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Wn(e,a),tr(t,u,e.bl_count)}function Ga(e,a,t){var i,r=-1,n,o=a[0*2+1],l=0,u=7,d=4;for(o===0&&(u=138,d=3),a[(t+1)*2+1]=65535,i=0;i<=t;i++)n=o,o=a[(i+1)*2+1],!(++l<u&&n===o)&&(l<d?e.bl_tree[n*2]+=l:n!==0?(n!==r&&e.bl_tree[n*2]++,e.bl_tree[Va*2]++):l<=10?e.bl_tree[Ka*2]++:e.bl_tree[Ya*2]++,l=0,r=n,o===0?(u=138,d=3):n===o?(u=6,d=3):(u=7,d=4))}function Ua(e,a,t){var i,r=-1,n,o=a[0*2+1],l=0,u=7,d=4;for(o===0&&(u=138,d=3),i=0;i<=t;i++)if(n=o,o=a[(i+1)*2+1],!(++l<u&&n===o)){if(l<d)do ce(e,n,e.bl_tree);while(--l!==0);else n!==0?(n!==r&&(ce(e,n,e.bl_tree),l--),ce(e,Va,e.bl_tree),Y(e,l-3,2)):l<=10?(ce(e,Ka,e.bl_tree),Y(e,l-3,3)):(ce(e,Ya,e.bl_tree),Y(e,l-11,7));l=0,r=n,o===0?(u=138,d=3):n===o?(u=6,d=3):(u=7,d=4)}}function Jn(e){var a;for(Ga(e,e.dyn_ltree,e.l_desc.max_code),Ga(e,e.dyn_dtree,e.d_desc.max_code),bi(e,e.bl_desc),a=ki-1;a>=3&&e.bl_tree[Xa[a]*2+1]===0;a--);return e.opt_len+=3*(a+1)+5+5+4,a}function eo(e,a,t,i){var r;for(Y(e,a-257,5),Y(e,t-1,5),Y(e,i-4,4),r=0;r<i;r++)Y(e,e.bl_tree[Xa[r]*2+1],3);Ua(e,e.dyn_ltree,a-1),Ua(e,e.dyn_dtree,t-1)}function to(e){var a=4093624447,t;for(t=0;t<=31;t++,a>>>=1)if(a&1&&e.dyn_ltree[t*2]!==0)return Pa;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ba;for(t=32;t<ut;t++)if(e.dyn_ltree[t*2]!==0)return Ba;return Pa}var Ha=!1;function io(e){Ha||($n(),Ha=!0),e.l_desc=new mi(e.dyn_ltree,Wa),e.d_desc=new mi(e.dyn_dtree,$a),e.bl_desc=new mi(e.bl_tree,Qa),e.bi_buf=0,e.bi_valid=0,ir(e)}function rr(e,a,t,i){Y(e,(Un<<1)+(i?1:0),3),Qn(e,a,t,!0)}function ao(e){Y(e,ja<<1,3),ce(e,wi,pe),Xn(e)}function ro(e,a,t,i){var r,n,o=0;e.level>0?(e.strm.data_type===Gn&&(e.strm.data_type=to(e)),bi(e,e.l_desc),bi(e,e.d_desc),o=Jn(e),r=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=r&&(r=n)):r=n=t+5,t+4<=r&&a!==-1?rr(e,a,t,i):e.strategy===Zn||n===r?(Y(e,(ja<<1)+(i?1:0),3),Za(e,pe,lt)):(Y(e,(Hn<<1)+(i?1:0),3),eo(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Za(e,e.dyn_ltree,e.dyn_dtree)),ir(e),i&&ar(e)}function no(e,a,t){return e.pending_buf[e.d_buf+e.last_lit*2]=a>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=a&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,a===0?e.dyn_ltree[t*2]++:(e.matches++,a--,e.dyn_ltree[(st[t]+ut+1)*2]++,e.dyn_dtree[Ja(a)*2]++),e.last_lit===e.lit_bufsize-1}je._tr_init=io;je._tr_stored_block=rr;je._tr_flush_block=ro;je._tr_tally=no;je._tr_align=ao});var yi=q((bd,or)=>{"use strict";function oo(e,a,t,i){for(var r=e&65535|0,n=e>>>16&65535|0,o=0;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+a[i++]|0,n=n+r|0;while(--o);r%=65521,n%=65521}return r|n<<16|0}or.exports=oo});var Ci=q((gd,lr)=>{"use strict";function lo(){for(var e,a=[],t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;a[t]=e}return a}var co=lo();function so(e,a,t,i){var r=co,n=i+t;e^=-1;for(var o=i;o<n;o++)e=e>>>8^r[(e^a[o])&255];return e^-1}lr.exports=so});var Ut=q((kd,dr)=>{"use strict";dr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var vr=q(ue=>{"use strict";var K=me(),Q=nr(),ur=yi(),Se=Ci(),fo=Ut(),Le=0,uo=1,_o=3,Ie=4,cr=5,fe=0,sr=1,J=-2,ho=-3,Si=-5,mo=-1,po=1,Ht=2,vo=3,bo=4,go=0,ko=2,Kt=8,wo=9,xo=15,yo=8,Co=29,So=256,Mi=So+1+Co,Eo=30,Mo=19,To=2*Mi+1,Do=15,M=3,Te=258,re=Te+M+1,Io=32,Yt=42,Ti=69,jt=73,qt=91,Vt=103,ze=113,ht=666,U=1,mt=2,Ae=3,Ke=4,Ro=3;function De(e,a){return e.msg=fo[a],a}function fr(e){return(e<<1)-(e>4?9:0)}function Me(e){for(var a=e.length;--a>=0;)e[a]=0}function Ee(e){var a=e.state,t=a.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(K.arraySet(e.output,a.pending_buf,a.pending_out,t,e.next_out),e.next_out+=t,a.pending_out+=t,e.total_out+=t,e.avail_out-=t,a.pending-=t,a.pending===0&&(a.pending_out=0))}function j(e,a){Q._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,a),e.block_start=e.strstart,Ee(e.strm)}function R(e,a){e.pending_buf[e.pending++]=a}function _t(e,a){e.pending_buf[e.pending++]=a>>>8&255,e.pending_buf[e.pending++]=a&255}function Oo(e,a,t,i){var r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,K.arraySet(a,e.input,e.next_in,r,t),e.state.wrap===1?e.adler=ur(e.adler,a,r,t):e.state.wrap===2&&(e.adler=Se(e.adler,a,r,t)),e.next_in+=r,e.total_in+=r,r)}function _r(e,a){var t=e.max_chain_length,i=e.strstart,r,n,o=e.prev_length,l=e.nice_match,u=e.strstart>e.w_size-re?e.strstart-(e.w_size-re):0,d=e.window,c=e.w_mask,S=e.prev,h=e.strstart+Te,s=d[i+o-1],b=d[i+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(r=a,!(d[r+o]!==b||d[r+o-1]!==s||d[r]!==d[i]||d[++r]!==d[i+1])){i+=2,r++;do;while(d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&i<h);if(n=Te-(h-i),i=h-Te,n>o){if(e.match_start=a,o=n,n>=l)break;s=d[i+o-1],b=d[i+o]}}while((a=S[a&c])>u&&--t!==0);return o<=e.lookahead?o:e.lookahead}function Fe(e){var a=e.w_size,t,i,r,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-re)){K.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,i=e.hash_size,t=i;do r=e.head[--t],e.head[t]=r>=a?r-a:0;while(--i);i=a,t=i;do r=e.prev[--t],e.prev[t]=r>=a?r-a:0;while(--i);n+=a}if(e.strm.avail_in===0)break;if(i=Oo(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=M)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+M-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<M)););}while(e.lookahead<re&&e.strm.avail_in!==0)}function zo(e,a){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fe(e),e.lookahead===0&&a===Le)return U;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+t;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,j(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-re&&(j(e,!1),e.strm.avail_out===0))return U}return e.insert=0,a===Ie?(j(e,!0),e.strm.avail_out===0?Ae:Ke):(e.strstart>e.block_start&&(j(e,!1),e.strm.avail_out===0),U)}function Ei(e,a){for(var t,i;;){if(e.lookahead<re){if(Fe(e),e.lookahead<re&&a===Le)return U;if(e.lookahead===0)break}if(t=0,e.lookahead>=M&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-re&&(e.match_length=_r(e,t)),e.match_length>=M)if(i=Q._tr_tally(e,e.strstart-e.match_start,e.match_length-M),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=M){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=Q._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(j(e,!1),e.strm.avail_out===0))return U}return e.insert=e.strstart<M-1?e.strstart:M-1,a===Ie?(j(e,!0),e.strm.avail_out===0?Ae:Ke):e.last_lit&&(j(e,!1),e.strm.avail_out===0)?U:mt}function qe(e,a){for(var t,i,r;;){if(e.lookahead<re){if(Fe(e),e.lookahead<re&&a===Le)return U;if(e.lookahead===0)break}if(t=0,e.lookahead>=M&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=M-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-re&&(e.match_length=_r(e,t),e.match_length<=5&&(e.strategy===po||e.match_length===M&&e.strstart-e.match_start>4096)&&(e.match_length=M-1)),e.prev_length>=M&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-M,i=Q._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-M),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=M-1,e.strstart++,i&&(j(e,!1),e.strm.avail_out===0))return U}else if(e.match_available){if(i=Q._tr_tally(e,0,e.window[e.strstart-1]),i&&j(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return U}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Q._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<M-1?e.strstart:M-1,a===Ie?(j(e,!0),e.strm.avail_out===0?Ae:Ke):e.last_lit&&(j(e,!1),e.strm.avail_out===0)?U:mt}function Ao(e,a){for(var t,i,r,n,o=e.window;;){if(e.lookahead<=Te){if(Fe(e),e.lookahead<=Te&&a===Le)return U;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=M&&e.strstart>0&&(r=e.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){n=e.strstart+Te;do;while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<n);e.match_length=Te-(n-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=M?(t=Q._tr_tally(e,1,e.match_length-M),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Q._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(j(e,!1),e.strm.avail_out===0))return U}return e.insert=0,a===Ie?(j(e,!0),e.strm.avail_out===0?Ae:Ke):e.last_lit&&(j(e,!1),e.strm.avail_out===0)?U:mt}function Fo(e,a){for(var t;;){if(e.lookahead===0&&(Fe(e),e.lookahead===0)){if(a===Le)return U;break}if(e.match_length=0,t=Q._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(j(e,!1),e.strm.avail_out===0))return U}return e.insert=0,a===Ie?(j(e,!0),e.strm.avail_out===0?Ae:Ke):e.last_lit&&(j(e,!1),e.strm.avail_out===0)?U:mt}function se(e,a,t,i,r){this.good_length=e,this.max_lazy=a,this.nice_length=t,this.max_chain=i,this.func=r}var Ve;Ve=[new se(0,0,0,0,zo),new se(4,4,8,4,Ei),new se(4,5,16,8,Ei),new se(4,6,32,32,Ei),new se(4,4,16,16,qe),new se(8,16,32,32,qe),new se(8,16,128,128,qe),new se(8,32,128,256,qe),new se(32,128,258,1024,qe),new se(32,258,258,4096,qe)];function Lo(e){e.window_size=2*e.w_size,Me(e.head),e.max_lazy_match=Ve[e.level].max_lazy,e.good_match=Ve[e.level].good_length,e.nice_match=Ve[e.level].nice_length,e.max_chain_length=Ve[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=M-1,e.match_available=0,e.ins_h=0}function Po(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Kt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new K.Buf16(To*2),this.dyn_dtree=new K.Buf16((2*Eo+1)*2),this.bl_tree=new K.Buf16((2*Mo+1)*2),Me(this.dyn_ltree),Me(this.dyn_dtree),Me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new K.Buf16(Do+1),this.heap=new K.Buf16(2*Mi+1),Me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new K.Buf16(2*Mi+1),Me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function hr(e){var a;return!e||!e.state?De(e,J):(e.total_in=e.total_out=0,e.data_type=ko,a=e.state,a.pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?Yt:ze,e.adler=a.wrap===2?0:1,a.last_flush=Le,Q._tr_init(a),fe)}function mr(e){var a=hr(e);return a===fe&&Lo(e.state),a}function Bo(e,a){return!e||!e.state||e.state.wrap!==2?J:(e.state.gzhead=a,fe)}function pr(e,a,t,i,r,n){if(!e)return J;var o=1;if(a===mo&&(a=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>wo||t!==Kt||i<8||i>15||a<0||a>9||n<0||n>bo)return De(e,J);i===8&&(i=9);var l=new Po;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+M-1)/M),l.window=new K.Buf8(l.w_size*2),l.head=new K.Buf16(l.hash_size),l.prev=new K.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new K.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=a,l.strategy=n,l.method=t,mr(e)}function No(e,a){return pr(e,a,Kt,xo,yo,go)}function Zo(e,a){var t,i,r,n;if(!e||!e.state||a>cr||a<0)return e?De(e,J):J;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===ht&&a!==Ie)return De(e,e.avail_out===0?Si:J);if(i.strm=e,t=i.last_flush,i.last_flush=a,i.status===Yt)if(i.wrap===2)e.adler=0,R(i,31),R(i,139),R(i,8),i.gzhead?(R(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),R(i,i.gzhead.time&255),R(i,i.gzhead.time>>8&255),R(i,i.gzhead.time>>16&255),R(i,i.gzhead.time>>24&255),R(i,i.level===9?2:i.strategy>=Ht||i.level<2?4:0),R(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(R(i,i.gzhead.extra.length&255),R(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Se(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Ti):(R(i,0),R(i,0),R(i,0),R(i,0),R(i,0),R(i,i.level===9?2:i.strategy>=Ht||i.level<2?4:0),R(i,Ro),i.status=ze);else{var o=Kt+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=Ht||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,o|=l<<6,i.strstart!==0&&(o|=Io),o+=31-o%31,i.status=ze,_t(i,o),i.strstart!==0&&(_t(i,e.adler>>>16),_t(i,e.adler&65535)),e.adler=1}if(i.status===Ti)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Se(e.adler,i.pending_buf,i.pending-r,r)),Ee(e),r=i.pending,i.pending===i.pending_buf_size));)R(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=Se(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=jt)}else i.status=jt;if(i.status===jt)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Se(e.adler,i.pending_buf,i.pending-r,r)),Ee(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.name.length?n=i.gzhead.name.charCodeAt(i.gzindex++)&255:n=0,R(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=Se(e.adler,i.pending_buf,i.pending-r,r)),n===0&&(i.gzindex=0,i.status=qt)}else i.status=qt;if(i.status===qt)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Se(e.adler,i.pending_buf,i.pending-r,r)),Ee(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.comment.length?n=i.gzhead.comment.charCodeAt(i.gzindex++)&255:n=0,R(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(e.adler=Se(e.adler,i.pending_buf,i.pending-r,r)),n===0&&(i.status=Vt)}else i.status=Vt;if(i.status===Vt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ee(e),i.pending+2<=i.pending_buf_size&&(R(i,e.adler&255),R(i,e.adler>>8&255),e.adler=0,i.status=ze)):i.status=ze),i.pending!==0){if(Ee(e),e.avail_out===0)return i.last_flush=-1,fe}else if(e.avail_in===0&&fr(a)<=fr(t)&&a!==Ie)return De(e,Si);if(i.status===ht&&e.avail_in!==0)return De(e,Si);if(e.avail_in!==0||i.lookahead!==0||a!==Le&&i.status!==ht){var u=i.strategy===Ht?Fo(i,a):i.strategy===vo?Ao(i,a):Ve[i.level].func(i,a);if((u===Ae||u===Ke)&&(i.status=ht),u===U||u===Ae)return e.avail_out===0&&(i.last_flush=-1),fe;if(u===mt&&(a===uo?Q._tr_align(i):a!==cr&&(Q._tr_stored_block(i,0,0,!1),a===_o&&(Me(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Ee(e),e.avail_out===0))return i.last_flush=-1,fe}return a!==Ie?fe:i.wrap<=0?sr:(i.wrap===2?(R(i,e.adler&255),R(i,e.adler>>8&255),R(i,e.adler>>16&255),R(i,e.adler>>24&255),R(i,e.total_in&255),R(i,e.total_in>>8&255),R(i,e.total_in>>16&255),R(i,e.total_in>>24&255)):(_t(i,e.adler>>>16),_t(i,e.adler&65535)),Ee(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?fe:sr)}function Go(e){var a;return!e||!e.state?J:(a=e.state.status,a!==Yt&&a!==Ti&&a!==jt&&a!==qt&&a!==Vt&&a!==ze&&a!==ht?De(e,J):(e.state=null,a===ze?De(e,ho):fe))}function Uo(e,a){var t=a.length,i,r,n,o,l,u,d,c;if(!e||!e.state||(i=e.state,o=i.wrap,o===2||o===1&&i.status!==Yt||i.lookahead))return J;for(o===1&&(e.adler=ur(e.adler,a,t,0)),i.wrap=0,t>=i.w_size&&(o===0&&(Me(i.head),i.strstart=0,i.block_start=0,i.insert=0),c=new K.Buf8(i.w_size),K.arraySet(c,a,t-i.w_size,i.w_size,0),a=c,t=i.w_size),l=e.avail_in,u=e.next_in,d=e.input,e.avail_in=t,e.next_in=0,e.input=a,Fe(i);i.lookahead>=M;){r=i.strstart,n=i.lookahead-(M-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+M-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++;while(--n);i.strstart=r,i.lookahead=M-1,Fe(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=M-1,i.match_available=0,e.next_in=u,e.input=d,e.avail_in=l,i.wrap=o,fe}ue.deflateInit=No;ue.deflateInit2=pr;ue.deflateReset=mr;ue.deflateResetKeep=hr;ue.deflateSetHeader=Bo;ue.deflate=Zo;ue.deflateEnd=Go;ue.deflateSetDictionary=Uo;ue.deflateInfo="pako deflate (from Nodeca project)"});var Di=q(Ye=>{"use strict";var Xt=me(),br=!0,gr=!0;try{String.fromCharCode.apply(null,[0])}catch{br=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gr=!1}var pt=new Xt.Buf8(256);for(ve=0;ve<256;ve++)pt[ve]=ve>=252?6:ve>=248?5:ve>=240?4:ve>=224?3:ve>=192?2:1;var ve;pt[254]=pt[254]=1;Ye.string2buf=function(e){var a,t,i,r,n,o=e.length,l=0;for(r=0;r<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(a=new Xt.Buf8(l),n=0,r=0;n<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?a[n++]=t:t<2048?(a[n++]=192|t>>>6,a[n++]=128|t&63):t<65536?(a[n++]=224|t>>>12,a[n++]=128|t>>>6&63,a[n++]=128|t&63):(a[n++]=240|t>>>18,a[n++]=128|t>>>12&63,a[n++]=128|t>>>6&63,a[n++]=128|t&63);return a};function kr(e,a){if(a<65534&&(e.subarray&&gr||!e.subarray&&br))return String.fromCharCode.apply(null,Xt.shrinkBuf(e,a));for(var t="",i=0;i<a;i++)t+=String.fromCharCode(e[i]);return t}Ye.buf2binstring=function(e){return kr(e,e.length)};Ye.binstring2buf=function(e){for(var a=new Xt.Buf8(e.length),t=0,i=a.length;t<i;t++)a[t]=e.charCodeAt(t);return a};Ye.buf2string=function(e,a){var t,i,r,n,o=a||e.length,l=new Array(o*2);for(i=0,t=0;t<o;){if(r=e[t++],r<128){l[i++]=r;continue}if(n=pt[r],n>4){l[i++]=65533,t+=n-1;continue}for(r&=n===2?31:n===3?15:7;n>1&&t<o;)r=r<<6|e[t++]&63,n--;if(n>1){l[i++]=65533;continue}r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|r&1023)}return kr(l,i)};Ye.utf8border=function(e,a){var t;for(a=a||e.length,a>e.length&&(a=e.length),t=a-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?a:t+pt[e[t]]>a?t:a}});var Ii=q((yd,wr)=>{"use strict";function Ho(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}wr.exports=Ho});var Sr=q(gt=>{"use strict";var vt=vr(),bt=me(),Oi=Di(),zi=Ut(),jo=Ii(),Cr=Object.prototype.toString,qo=0,Ri=4,Xe=0,xr=1,yr=2,Vo=-1,Ko=0,Yo=8;function Pe(e){if(!(this instanceof Pe))return new Pe(e);this.options=bt.assign({level:Vo,method:Yo,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ko,to:""},e||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jo,this.strm.avail_out=0;var t=vt.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(t!==Xe)throw new Error(zi[t]);if(a.header&&vt.deflateSetHeader(this.strm,a.header),a.dictionary){var i;if(typeof a.dictionary=="string"?i=Oi.string2buf(a.dictionary):Cr.call(a.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(a.dictionary):i=a.dictionary,t=vt.deflateSetDictionary(this.strm,i),t!==Xe)throw new Error(zi[t]);this._dict_set=!0}}Pe.prototype.push=function(e,a){var t=this.strm,i=this.options.chunkSize,r,n;if(this.ended)return!1;n=a===~~a?a:a===!0?Ri:qo,typeof e=="string"?t.input=Oi.string2buf(e):Cr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new bt.Buf8(i),t.next_out=0,t.avail_out=i),r=vt.deflate(t,n),r!==xr&&r!==Xe)return this.onEnd(r),this.ended=!0,!1;(t.avail_out===0||t.avail_in===0&&(n===Ri||n===yr))&&(this.options.to==="string"?this.onData(Oi.buf2binstring(bt.shrinkBuf(t.output,t.next_out))):this.onData(bt.shrinkBuf(t.output,t.next_out)))}while((t.avail_in>0||t.avail_out===0)&&r!==xr);return n===Ri?(r=vt.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Xe):(n===yr&&(this.onEnd(Xe),t.avail_out=0),!0)};Pe.prototype.onData=function(e){this.chunks.push(e)};Pe.prototype.onEnd=function(e){e===Xe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ai(e,a){var t=new Pe(a);if(t.push(e,!0),t.err)throw t.msg||zi[t.err];return t.result}function Xo(e,a){return a=a||{},a.raw=!0,Ai(e,a)}function Wo(e,a){return a=a||{},a.gzip=!0,Ai(e,a)}gt.Deflate=Pe;gt.deflate=Ai;gt.deflateRaw=Xo;gt.gzip=Wo});var Mr=q((Sd,Er)=>{"use strict";var Wt=30,$o=12;Er.exports=function(a,t){var i,r,n,o,l,u,d,c,S,h,s,b,p,E,g,A,F,y,m,O,T,k,I,B,w;i=a.state,r=a.next_in,B=a.input,n=r+(a.avail_in-5),o=a.next_out,w=a.output,l=o-(t-a.avail_out),u=o+(a.avail_out-257),d=i.dmax,c=i.wsize,S=i.whave,h=i.wnext,s=i.window,b=i.hold,p=i.bits,E=i.lencode,g=i.distcode,A=(1<<i.lenbits)-1,F=(1<<i.distbits)-1;e:do{p<15&&(b+=B[r++]<<p,p+=8,b+=B[r++]<<p,p+=8),y=E[b&A];t:for(;;){if(m=y>>>24,b>>>=m,p-=m,m=y>>>16&255,m===0)w[o++]=y&65535;else if(m&16){O=y&65535,m&=15,m&&(p<m&&(b+=B[r++]<<p,p+=8),O+=b&(1<<m)-1,b>>>=m,p-=m),p<15&&(b+=B[r++]<<p,p+=8,b+=B[r++]<<p,p+=8),y=g[b&F];i:for(;;){if(m=y>>>24,b>>>=m,p-=m,m=y>>>16&255,m&16){if(T=y&65535,m&=15,p<m&&(b+=B[r++]<<p,p+=8,p<m&&(b+=B[r++]<<p,p+=8)),T+=b&(1<<m)-1,T>d){a.msg="invalid distance too far back",i.mode=Wt;break e}if(b>>>=m,p-=m,m=o-l,T>m){if(m=T-m,m>S&&i.sane){a.msg="invalid distance too far back",i.mode=Wt;break e}if(k=0,I=s,h===0){if(k+=c-m,m<O){O-=m;do w[o++]=s[k++];while(--m);k=o-T,I=w}}else if(h<m){if(k+=c+h-m,m-=h,m<O){O-=m;do w[o++]=s[k++];while(--m);if(k=0,h<O){m=h,O-=m;do w[o++]=s[k++];while(--m);k=o-T,I=w}}}else if(k+=h-m,m<O){O-=m;do w[o++]=s[k++];while(--m);k=o-T,I=w}for(;O>2;)w[o++]=I[k++],w[o++]=I[k++],w[o++]=I[k++],O-=3;O&&(w[o++]=I[k++],O>1&&(w[o++]=I[k++]))}else{k=o-T;do w[o++]=w[k++],w[o++]=w[k++],w[o++]=w[k++],O-=3;while(O>2);O&&(w[o++]=w[k++],O>1&&(w[o++]=w[k++]))}}else if((m&64)===0){y=g[(y&65535)+(b&(1<<m)-1)];continue i}else{a.msg="invalid distance code",i.mode=Wt;break e}break}}else if((m&64)===0){y=E[(y&65535)+(b&(1<<m)-1)];continue t}else if(m&32){i.mode=$o;break e}else{a.msg="invalid literal/length code",i.mode=Wt;break e}break}}while(r<n&&o<u);O=p>>3,r-=O,p-=O<<3,b&=(1<<p)-1,a.next_in=r,a.next_out=o,a.avail_in=r<n?5+(n-r):5-(r-n),a.avail_out=o<u?257+(u-o):257-(o-u),i.hold=b,i.bits=p}});var Ar=q((Ed,zr)=>{"use strict";var Tr=me(),We=15,Dr=852,Ir=592,Rr=0,Fi=1,Or=2,Qo=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Jo=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],el=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],tl=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];zr.exports=function(a,t,i,r,n,o,l,u){var d=u.bits,c=0,S=0,h=0,s=0,b=0,p=0,E=0,g=0,A=0,F=0,y,m,O,T,k,I=null,B=0,w,te=new Tr.Buf16(We+1),yt=new Tr.Buf16(We+1),Ct=null,$i=0,Qi,St,Et;for(c=0;c<=We;c++)te[c]=0;for(S=0;S<r;S++)te[t[i+S]]++;for(b=d,s=We;s>=1&&te[s]===0;s--);if(b>s&&(b=s),s===0)return n[o++]=1<<24|64<<16|0,n[o++]=1<<24|64<<16|0,u.bits=1,0;for(h=1;h<s&&te[h]===0;h++);for(b<h&&(b=h),g=1,c=1;c<=We;c++)if(g<<=1,g-=te[c],g<0)return-1;if(g>0&&(a===Rr||s!==1))return-1;for(yt[1]=0,c=1;c<We;c++)yt[c+1]=yt[c]+te[c];for(S=0;S<r;S++)t[i+S]!==0&&(l[yt[t[i+S]]++]=S);if(a===Rr?(I=Ct=l,w=19):a===Fi?(I=Qo,B-=257,Ct=Jo,$i-=257,w=256):(I=el,Ct=tl,w=-1),F=0,S=0,c=h,k=o,p=b,E=0,O=-1,A=1<<b,T=A-1,a===Fi&&A>Dr||a===Or&&A>Ir)return 1;for(;;){Qi=c-E,l[S]<w?(St=0,Et=l[S]):l[S]>w?(St=Ct[$i+l[S]],Et=I[B+l[S]]):(St=96,Et=0),y=1<<c-E,m=1<<p,h=m;do m-=y,n[k+(F>>E)+m]=Qi<<24|St<<16|Et|0;while(m!==0);for(y=1<<c-1;F&y;)y>>=1;if(y!==0?(F&=y-1,F+=y):F=0,S++,--te[c]===0){if(c===s)break;c=t[i+l[S]]}if(c>b&&(F&T)!==O){for(E===0&&(E=b),k+=h,p=c-E,g=1<<p;p+E<s&&(g-=te[p+E],!(g<=0));)p++,g<<=1;if(A+=1<<p,a===Fi&&A>Dr||a===Or&&A>Ir)return 1;O=F&T,n[O]=b<<24|p<<16|k-o|0}}return F!==0&&(n[k+F]=c-E<<24|64<<16|0),u.bits=b,0}});var pn=q(ne=>{"use strict";var X=me(),Gi=yi(),_e=Ci(),il=Mr(),kt=Ar(),al=0,ln=1,dn=2,Fr=4,rl=5,$t=6,Be=0,nl=1,ol=2,ee=-2,cn=-3,Ui=-4,ll=-5,Lr=8,sn=1,Pr=2,Br=3,Nr=4,Zr=5,Gr=6,Ur=7,Hr=8,jr=9,qr=10,ei=11,be=12,Li=13,Vr=14,Pi=15,Kr=16,Yr=17,Xr=18,Wr=19,Qt=20,Jt=21,$r=22,Qr=23,Jr=24,en=25,tn=26,Bi=27,an=28,rn=29,L=30,Hi=31,dl=32,cl=852,sl=592,fl=15,ul=fl;function nn(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function _l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new X.Buf16(320),this.work=new X.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fn(e){var a;return!e||!e.state?ee:(a=e.state,e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=a.wrap&1),a.mode=sn,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new X.Buf32(cl),a.distcode=a.distdyn=new X.Buf32(sl),a.sane=1,a.back=-1,Be)}function un(e){var a;return!e||!e.state?ee:(a=e.state,a.wsize=0,a.whave=0,a.wnext=0,fn(e))}function _n(e,a){var t,i;return!e||!e.state||(i=e.state,a<0?(t=0,a=-a):(t=(a>>4)+1,a<48&&(a&=15)),a&&(a<8||a>15))?ee:(i.window!==null&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,un(e))}function hn(e,a){var t,i;return e?(i=new _l,e.state=i,i.window=null,t=_n(e,a),t!==Be&&(e.state=null),t):ee}function hl(e){return hn(e,ul)}var on=!0,Ni,Zi;function ml(e){if(on){var a;for(Ni=new X.Buf32(512),Zi=new X.Buf32(32),a=0;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(kt(ln,e.lens,0,288,Ni,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;kt(dn,e.lens,0,32,Zi,0,e.work,{bits:5}),on=!1}e.lencode=Ni,e.lenbits=9,e.distcode=Zi,e.distbits=5}function mn(e,a,t,i){var r,n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new X.Buf8(n.wsize)),i>=n.wsize?(X.arraySet(n.window,a,t-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(r=n.wsize-n.wnext,r>i&&(r=i),X.arraySet(n.window,a,t-i,r,n.wnext),i-=r,i?(X.arraySet(n.window,a,t-i,i,0),n.wnext=i,n.whave=n.wsize):(n.wnext+=r,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=r))),0}function pl(e,a){var t,i,r,n,o,l,u,d,c,S,h,s,b,p,E=0,g,A,F,y,m,O,T,k,I=new X.Buf8(4),B,w,te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return ee;t=e.state,t.mode===be&&(t.mode=Li),o=e.next_out,r=e.output,u=e.avail_out,n=e.next_in,i=e.input,l=e.avail_in,d=t.hold,c=t.bits,S=l,h=u,k=Be;e:for(;;)switch(t.mode){case sn:if(t.wrap===0){t.mode=Li;break}for(;c<16;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(t.wrap&2&&d===35615){t.check=0,I[0]=d&255,I[1]=d>>>8&255,t.check=_e(t.check,I,2,0),d=0,c=0,t.mode=Pr;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",t.mode=L;break}if((d&15)!==Lr){e.msg="unknown compression method",t.mode=L;break}if(d>>>=4,c-=4,T=(d&15)+8,t.wbits===0)t.wbits=T;else if(T>t.wbits){e.msg="invalid window size",t.mode=L;break}t.dmax=1<<T,e.adler=t.check=1,t.mode=d&512?qr:be,d=0,c=0;break;case Pr:for(;c<16;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(t.flags=d,(t.flags&255)!==Lr){e.msg="unknown compression method",t.mode=L;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=L;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&(I[0]=d&255,I[1]=d>>>8&255,t.check=_e(t.check,I,2,0)),d=0,c=0,t.mode=Br;case Br:for(;c<32;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}t.head&&(t.head.time=d),t.flags&512&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,t.check=_e(t.check,I,4,0)),d=0,c=0,t.mode=Nr;case Nr:for(;c<16;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&(I[0]=d&255,I[1]=d>>>8&255,t.check=_e(t.check,I,2,0)),d=0,c=0,t.mode=Zr;case Zr:if(t.flags&1024){for(;c<16;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&(I[0]=d&255,I[1]=d>>>8&255,t.check=_e(t.check,I,2,0)),d=0,c=0}else t.head&&(t.head.extra=null);t.mode=Gr;case Gr:if(t.flags&1024&&(s=t.length,s>l&&(s=l),s&&(t.head&&(T=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),X.arraySet(t.head.extra,i,n,s,T)),t.flags&512&&(t.check=_e(t.check,i,s,n)),l-=s,n+=s,t.length-=s),t.length))break e;t.length=0,t.mode=Ur;case Ur:if(t.flags&2048){if(l===0)break e;s=0;do T=i[n+s++],t.head&&T&&t.length<65536&&(t.head.name+=String.fromCharCode(T));while(T&&s<l);if(t.flags&512&&(t.check=_e(t.check,i,s,n)),l-=s,n+=s,T)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Hr;case Hr:if(t.flags&4096){if(l===0)break e;s=0;do T=i[n+s++],t.head&&T&&t.length<65536&&(t.head.comment+=String.fromCharCode(T));while(T&&s<l);if(t.flags&512&&(t.check=_e(t.check,i,s,n)),l-=s,n+=s,T)break e}else t.head&&(t.head.comment=null);t.mode=jr;case jr:if(t.flags&512){for(;c<16;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(d!==(t.check&65535)){e.msg="header crc mismatch",t.mode=L;break}d=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=be;break;case qr:for(;c<32;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}e.adler=t.check=nn(d),d=0,c=0,t.mode=ei;case ei:if(t.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=n,e.avail_in=l,t.hold=d,t.bits=c,ol;e.adler=t.check=1,t.mode=be;case be:if(a===rl||a===$t)break e;case Li:if(t.last){d>>>=c&7,c-=c&7,t.mode=Bi;break}for(;c<3;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}switch(t.last=d&1,d>>>=1,c-=1,d&3){case 0:t.mode=Vr;break;case 1:if(ml(t),t.mode=Qt,a===$t){d>>>=2,c-=2;break e}break;case 2:t.mode=Yr;break;case 3:e.msg="invalid block type",t.mode=L}d>>>=2,c-=2;break;case Vr:for(d>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",t.mode=L;break}if(t.length=d&65535,d=0,c=0,t.mode=Pi,a===$t)break e;case Pi:t.mode=Kr;case Kr:if(s=t.length,s){if(s>l&&(s=l),s>u&&(s=u),s===0)break e;X.arraySet(r,i,n,s,o),l-=s,n+=s,u-=s,o+=s,t.length-=s;break}t.mode=be;break;case Yr:for(;c<14;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(t.nlen=(d&31)+257,d>>>=5,c-=5,t.ndist=(d&31)+1,d>>>=5,c-=5,t.ncode=(d&15)+4,d>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=L;break}t.have=0,t.mode=Xr;case Xr:for(;t.have<t.ncode;){for(;c<3;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}t.lens[te[t.have++]]=d&7,d>>>=3,c-=3}for(;t.have<19;)t.lens[te[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,B={bits:t.lenbits},k=kt(al,t.lens,0,19,t.lencode,0,t.work,B),t.lenbits=B.bits,k){e.msg="invalid code lengths set",t.mode=L;break}t.have=0,t.mode=Wr;case Wr:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[d&(1<<t.lenbits)-1],g=E>>>24,A=E>>>16&255,F=E&65535,!(g<=c);){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(F<16)d>>>=g,c-=g,t.lens[t.have++]=F;else{if(F===16){for(w=g+2;c<w;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(d>>>=g,c-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=L;break}T=t.lens[t.have-1],s=3+(d&3),d>>>=2,c-=2}else if(F===17){for(w=g+3;c<w;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}d>>>=g,c-=g,T=0,s=3+(d&7),d>>>=3,c-=3}else{for(w=g+7;c<w;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}d>>>=g,c-=g,T=0,s=11+(d&127),d>>>=7,c-=7}if(t.have+s>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=L;break}for(;s--;)t.lens[t.have++]=T}}if(t.mode===L)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=L;break}if(t.lenbits=9,B={bits:t.lenbits},k=kt(ln,t.lens,0,t.nlen,t.lencode,0,t.work,B),t.lenbits=B.bits,k){e.msg="invalid literal/lengths set",t.mode=L;break}if(t.distbits=6,t.distcode=t.distdyn,B={bits:t.distbits},k=kt(dn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,B),t.distbits=B.bits,k){e.msg="invalid distances set",t.mode=L;break}if(t.mode=Qt,a===$t)break e;case Qt:t.mode=Jt;case Jt:if(l>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=n,e.avail_in=l,t.hold=d,t.bits=c,il(e,h),o=e.next_out,r=e.output,u=e.avail_out,n=e.next_in,i=e.input,l=e.avail_in,d=t.hold,c=t.bits,t.mode===be&&(t.back=-1);break}for(t.back=0;E=t.lencode[d&(1<<t.lenbits)-1],g=E>>>24,A=E>>>16&255,F=E&65535,!(g<=c);){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(A&&(A&240)===0){for(y=g,m=A,O=F;E=t.lencode[O+((d&(1<<y+m)-1)>>y)],g=E>>>24,A=E>>>16&255,F=E&65535,!(y+g<=c);){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}d>>>=y,c-=y,t.back+=y}if(d>>>=g,c-=g,t.back+=g,t.length=F,A===0){t.mode=tn;break}if(A&32){t.back=-1,t.mode=be;break}if(A&64){e.msg="invalid literal/length code",t.mode=L;break}t.extra=A&15,t.mode=$r;case $r:if(t.extra){for(w=t.extra;c<w;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Qr;case Qr:for(;E=t.distcode[d&(1<<t.distbits)-1],g=E>>>24,A=E>>>16&255,F=E&65535,!(g<=c);){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if((A&240)===0){for(y=g,m=A,O=F;E=t.distcode[O+((d&(1<<y+m)-1)>>y)],g=E>>>24,A=E>>>16&255,F=E&65535,!(y+g<=c);){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}d>>>=y,c-=y,t.back+=y}if(d>>>=g,c-=g,t.back+=g,A&64){e.msg="invalid distance code",t.mode=L;break}t.offset=F,t.extra=A&15,t.mode=Jr;case Jr:if(t.extra){for(w=t.extra;c<w;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=L;break}t.mode=en;case en:if(u===0)break e;if(s=h-u,t.offset>s){if(s=t.offset-s,s>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=L;break}s>t.wnext?(s-=t.wnext,b=t.wsize-s):b=t.wnext-s,s>t.length&&(s=t.length),p=t.window}else p=r,b=o-t.offset,s=t.length;s>u&&(s=u),u-=s,t.length-=s;do r[o++]=p[b++];while(--s);t.length===0&&(t.mode=Jt);break;case tn:if(u===0)break e;r[o++]=t.length,u--,t.mode=Jt;break;case Bi:if(t.wrap){for(;c<32;){if(l===0)break e;l--,d|=i[n++]<<c,c+=8}if(h-=u,e.total_out+=h,t.total+=h,h&&(e.adler=t.check=t.flags?_e(t.check,r,h,o-h):Gi(t.check,r,h,o-h)),h=u,(t.flags?d:nn(d))!==t.check){e.msg="incorrect data check",t.mode=L;break}d=0,c=0}t.mode=an;case an:if(t.wrap&&t.flags){for(;c<32;){if(l===0)break e;l--,d+=i[n++]<<c,c+=8}if(d!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=L;break}d=0,c=0}t.mode=rn;case rn:k=nl;break e;case L:k=cn;break e;case Hi:return Ui;case dl:default:return ee}return e.next_out=o,e.avail_out=u,e.next_in=n,e.avail_in=l,t.hold=d,t.bits=c,(t.wsize||h!==e.avail_out&&t.mode<L&&(t.mode<Bi||a!==Fr))&&mn(e,e.output,e.next_out,h-e.avail_out)?(t.mode=Hi,Ui):(S-=e.avail_in,h-=e.avail_out,e.total_in+=S,e.total_out+=h,t.total+=h,t.wrap&&h&&(e.adler=t.check=t.flags?_e(t.check,r,h,e.next_out-h):Gi(t.check,r,h,e.next_out-h)),e.data_type=t.bits+(t.last?64:0)+(t.mode===be?128:0)+(t.mode===Qt||t.mode===Pi?256:0),(S===0&&h===0||a===Fr)&&k===Be&&(k=ll),k)}function vl(e){if(!e||!e.state)return ee;var a=e.state;return a.window&&(a.window=null),e.state=null,Be}function bl(e,a){var t;return!e||!e.state||(t=e.state,(t.wrap&2)===0)?ee:(t.head=a,a.done=!1,Be)}function gl(e,a){var t=a.length,i,r,n;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==ei)?ee:i.mode===ei&&(r=1,r=Gi(r,a,t,0),r!==i.check)?cn:(n=mn(e,a,t,t),n?(i.mode=Hi,Ui):(i.havedict=1,Be))}ne.inflateReset=un;ne.inflateReset2=_n;ne.inflateResetKeep=fn;ne.inflateInit=hl;ne.inflateInit2=hn;ne.inflate=pl;ne.inflateEnd=vl;ne.inflateGetHeader=bl;ne.inflateSetDictionary=gl;ne.inflateInfo="pako inflate (from Nodeca project)"});var ji=q((Td,vn)=>{"use strict";vn.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var gn=q((Dd,bn)=>{"use strict";function kl(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}bn.exports=kl});var wn=q(xt=>{"use strict";var $e=pn(),wt=me(),ti=Di(),Z=ji(),qi=Ut(),wl=Ii(),xl=gn(),kn=Object.prototype.toString;function Ne(e){if(!(this instanceof Ne))return new Ne(e);this.options=wt.assign({chunkSize:16384,windowBits:0,to:""},e||{});var a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(e&&e.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wl,this.strm.avail_out=0;var t=$e.inflateInit2(this.strm,a.windowBits);if(t!==Z.Z_OK)throw new Error(qi[t]);if(this.header=new xl,$e.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=ti.string2buf(a.dictionary):kn.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(t=$e.inflateSetDictionary(this.strm,a.dictionary),t!==Z.Z_OK)))throw new Error(qi[t])}Ne.prototype.push=function(e,a){var t=this.strm,i=this.options.chunkSize,r=this.options.dictionary,n,o,l,u,d,c=!1;if(this.ended)return!1;o=a===~~a?a:a===!0?Z.Z_FINISH:Z.Z_NO_FLUSH,typeof e=="string"?t.input=ti.binstring2buf(e):kn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new wt.Buf8(i),t.next_out=0,t.avail_out=i),n=$e.inflate(t,Z.Z_NO_FLUSH),n===Z.Z_NEED_DICT&&r&&(n=$e.inflateSetDictionary(this.strm,r)),n===Z.Z_BUF_ERROR&&c===!0&&(n=Z.Z_OK,c=!1),n!==Z.Z_STREAM_END&&n!==Z.Z_OK)return this.onEnd(n),this.ended=!0,!1;t.next_out&&(t.avail_out===0||n===Z.Z_STREAM_END||t.avail_in===0&&(o===Z.Z_FINISH||o===Z.Z_SYNC_FLUSH))&&(this.options.to==="string"?(l=ti.utf8border(t.output,t.next_out),u=t.next_out-l,d=ti.buf2string(t.output,l),t.next_out=u,t.avail_out=i-u,u&&wt.arraySet(t.output,t.output,l,u,0),this.onData(d)):this.onData(wt.shrinkBuf(t.output,t.next_out))),t.avail_in===0&&t.avail_out===0&&(c=!0)}while((t.avail_in>0||t.avail_out===0)&&n!==Z.Z_STREAM_END);return n===Z.Z_STREAM_END&&(o=Z.Z_FINISH),o===Z.Z_FINISH?(n=$e.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Z.Z_OK):(o===Z.Z_SYNC_FLUSH&&(this.onEnd(Z.Z_OK),t.avail_out=0),!0)};Ne.prototype.onData=function(e){this.chunks.push(e)};Ne.prototype.onEnd=function(e){e===Z.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Vi(e,a){var t=new Ne(a);if(t.push(e,!0),t.err)throw t.msg||qi[t.err];return t.result}function yl(e,a){return a=a||{},a.raw=!0,Vi(e,a)}xt.Inflate=Ne;xt.inflate=Vi;xt.inflateRaw=yl;xt.ungzip=Vi});var Cn=q((Rd,yn)=>{"use strict";var Cl=me().assign,Sl=Sr(),El=wn(),Ml=ji(),xn={};Cl(xn,Sl,El,Ml);yn.exports=xn});var za=(()=>{class e{store;rowId=ri.required();colId=ri.required();guid=W(()=>`${this.rowId()}.${this.colId()}`);create(){this.store.dispatch(ua.openChooseTilePopup({row:this.rowId(),column:this.colId()}))}constructor(t){this.store=t}static \u0275fac=function(i){return new(i||e)(P($))};static \u0275cmp=G({type:e,selectors:[["app-cell"]],inputs:{rowId:[1,"rowId"],colId:[1,"colId"]},decls:4,vars:1,consts:[[1,"cell",3,"id"],[1,"addTile",3,"click"],[1,"fa-solid","fa-plus"],["src","./assets/map-editor/hex-single-white.png","alt","cell"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"button",1),x("click",function(){return r.create()}),N(2,"i",2),f(),N(3,"img",3),f()),i&2&&z("id",r.guid())},dependencies:[H],styles:[".addTile[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,100% 26%,100% 75%,50% 100%,0% 75%,0% 25%);height:100px;width:86px;position:absolute;top:0;z-index:1;cursor:pointer;transition:opacity .2s;opacity:.15;background-color:transparent;border:none;border-radius:2px;font-size:25px;color:#fff}.cell[_ngcontent-%COMP%]{width:86px;height:100px;margin-left:0;margin-right:0;position:relative}.cell[_ngcontent-%COMP%]:hover   .addTile[_ngcontent-%COMP%]{opacity:1}img[_ngcontent-%COMP%]{width:86px;height:100px;opacity:.3;transition:opacity .2s}.cellNr[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:.5}.cellNr.blocked[_ngcontent-%COMP%]{background-color:#ff00004d;clip-path:polygon(50% 0%,100% 26%,100% 75%,50% 100%,0% 75%,0% 25%);pointer-events:none}.cellNr.connected[_ngcontent-%COMP%]{background-color:#00ff004d;clip-path:polygon(50% 0%,100% 26%,100% 75%,50% 100%,0% 75%,0% 25%);pointer-events:none}"]})}return e})();function On(e,a){if(e&1&&(_(0,"div",2),N(1,"app-cell",3),f()),e&2){let t=a.$implicit,i=ie().$implicit;C(),z("rowId",i)("colId",t)}}function zn(e,a){if(e&1&&(_(0,"div",1),le(1,On,2,2,"div",2,oe),f()),e&2){let t=ie();C(),de(t.columns())}}var Aa=(()=>{class e{signalStore=D(we);rows;columns;constructor(){this.rows=W(()=>Array(this.signalStore.grid.rows()).fill(0).map((t,i)=>i)),this.columns=W(()=>Array(this.signalStore.grid.columns()).fill(0).map((t,i)=>i))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=G({type:e,selectors:[["feature-grid"]],decls:3,vars:0,consts:[["id","grid",1,"grid"],[1,"row"],[1,"column"],[3,"rowId","colId"]],template:function(i,r){i&1&&(_(0,"div",0),le(1,zn,3,0,"div",1,oe),f()),i&2&&(C(),de(r.rows()))},dependencies:[H,za],styles:["[_nghost-%COMP%]{display:block;position:relative;max-height:100vh;height:100vh}.grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:#fff;z-index:0}.grid[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(odd of.row){margin-left:-43px}.row[_ngcontent-%COMP%]{display:flex;margin-bottom:-26px}"]})}return e})();function An(e,a){if(e&1&&N(0,"feature-tile",1),e&2){let t=a.$implicit;z("tileGuid",t.id)}}var Fa=(()=>{class e{store;tiles$;containerHeight$;containerWidth$;signalStore=D(we);constructor(t){this.store=t,this.tiles$=this.signalStore.tileList,this.containerHeight$=W(()=>{let i=0;return this.tiles$().forEach(r=>{r.row>i&&(i=r.row)}),(i+2)*100+(i+1)*-26+"px"}),this.containerWidth$=W(()=>{let i=0;return this.tiles$().forEach(r=>{r.col>i&&(i=r.col)}),(i+2)*86+"px"})}ngOnInit(){}static \u0275fac=function(i){return new(i||e)(P($))};static \u0275cmp=G({type:e,selectors:[["placed-tiles"]],decls:3,vars:4,consts:[["id","placedTiles"],[3,"tileGuid"]],template:function(i,r){i&1&&(_(0,"div",0),le(1,An,1,1,"feature-tile",1,oe),f()),i&2&&(oa("height",r.containerHeight$())("width",r.containerWidth$()),C(),de(r.signalStore.tileList()))},dependencies:[H,va],styles:["[_nghost-%COMP%]{pointer-events:none;display:block;position:absolute;top:0;left:0}"]})}return e})();var La=(()=>{class e{dialogRef;constructor(t){this.dialogRef=t}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(P(xe))};static \u0275cmp=G({type:e,selectors:[["app-about-dialog"]],decls:43,vars:0,consts:[["title","About",3,"closeDialog"],[1,"about"],["href","https://discord.com/channels/740870068178649108/1167118071748628480"],["href","https://github.com/zedero/HoMM3BoardgameScenarioEditor/issues"]],template:function(i,r){i&1&&(_(0,"homm-dialog",0),x("closeDialog",function(){return r.close()}),_(1,"div",1)(2,"h3"),v(3,"Created by:"),f(),_(4,"p")(5,"b"),v(6,"Zedero (Patrick Kersten)"),f(),v(7," to assist the creative minds of the HoMM3 Boardgame community create their own maps and scenario's."),f(),N(8,"br"),_(9,"h3"),v(10,"Special thanks to:"),f(),_(11,"p")(12,"b"),v(13,"Archon Studio"),f(),v(14," for creating this wonderfull boardgame. "),N(15,"br"),_(16,"b"),v(17,"Ioan"),f(),v(18,": For providing me with HD assets making the initial tiles so much better. "),N(19,"br"),_(20,"b"),v(21,"UseCactus"),f(),v(22,": For some great UI feedback. "),N(23,"br"),_(24,"b"),v(25,"Tomas Zeman"),f(),v(26,": For providing the editor with tile scans. "),f(),N(27,"br"),_(28,"p"),v(29,"And not to forget, many thanks to the "),_(30,"b"),v(31,"HoMM3 Boardgame community"),f(),v(32," for their support and feedback."),f(),_(33,"h3"),v(34,"Suggestions / bugs / feedback"),f(),_(35,"p"),v(36,"If you have any suggestions, found any bugs or just want to provide some feedback, feel free to either post a message at "),_(37,"a",2),v(38,"Discord"),f(),v(39," or on "),_(40,"a",3),v(41,"Github"),f(),v(42,"."),f()()())},dependencies:[H,Ce],styles:[".about[_ngcontent-%COMP%]{color:#fff}.about[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--primary)}"]})}return e})();var ii=Rn(Cn());var Ki=class{_document;_textarea;constructor(a,t){this._document=t;let i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=a,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let a=this._textarea,t=!1;try{if(a){let i=this._document.activeElement;a.select(),a.setSelectionRange(0,a.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){let a=this._textarea;a&&(a.remove(),this._textarea=void 0)}},Il=(()=>{class e{_document=D(fa);constructor(){}copy(t){let i=this.beginCopy(t),r=i.copy();return i.destroy(),r}beginCopy(t){return new Ki(t,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rl=new Qe("CDK_COPY_TO_CLIPBOARD_CONFIG"),Sn=(()=>{class e{_clipboard=D(Il);_ngZone=D(Dt);text="";attempts=1;copied=new Je;_pending=new Set;_destroyed;_currentTimeout;constructor(){let t=D(Rl,{optional:!0});t&&t.attempts!=null&&(this.attempts=t.attempts)}copy(t=this.attempts){if(t>1){let i=t,r=this._clipboard.beginCopy(this.text);this._pending.add(r);let n=()=>{let o=r.copy();!o&&--i&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(n,1)):(this._currentTimeout=null,this._pending.delete(r),r.destroy(),this.copied.emit(o))};n()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}static \u0275fac=function(i){return new(i||e)};static \u0275dir=It({type:e,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,r){i&1&&x("click",function(){return r.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}return e})();var En=(()=>{class e{store;dialogRef;tileList;exportValue;importValue=Ze("");signalStore=D(we);constructor(t,i){this.store=t,this.dialogRef=i,this.tileList=this.signalStore.tileList,this.exportValue=W(()=>{let r={to:"string"},n=ii.deflate(JSON.stringify(this.tileList()),r);return btoa(n)})}import(){let t={to:"string"},i=atob(this.importValue()),r=ii.inflate(i,t),n=JSON.parse(r);this.signalStore.setTileList(this.updateTileListData(n)),this.close()}close(){this.dialogRef.close()}updateTileListData(t){return t.map(r=>Mt(Mt({},_a),r)).map(r=>{let n=r.hero.map(o=>o===0?"":o);return Ji(Mt({},r),{hero:n})})}static \u0275fac=function(i){return new(i||e)(P($),P(xe))};static \u0275cmp=G({type:e,selectors:[["feature-import-export"]],decls:15,vars:3,consts:[["title","Import / Export Map",3,"closeDialog"],[1,"container"],[1,"column"],[3,"ngModelChange","ngModel"],["theme","secondary",3,"click"],["theme","secondary",3,"cdkCopyToClipboard"]],template:function(i,r){i&1&&(_(0,"homm-dialog",0),x("closeDialog",function(){return r.close()}),_(1,"div",1)(2,"div",2)(3,"label"),v(4,"Import Map"),f(),_(5,"textarea",3),at("ngModelChange",function(o){return it(r.importValue,o)||(r.importValue=o),o}),f(),_(6,"homm-button",4),x("click",function(){return r.import()}),v(7,"Import Map"),f()(),_(8,"div",2)(9,"label"),v(10,"Export Map"),f(),_(11,"textarea"),v(12),f(),_(13,"homm-button",5),v(14,"Copy to clipboard"),f()()()()),i&2&&(C(5),tt("ngModel",r.importValue),C(7),et(r.exportValue()),C(),z("cdkCopyToClipboard",r.exportValue()))},dependencies:[H,Ce,ye,Bt,ga,Lt,Pt,Sn],styles:[".container[_ngcontent-%COMP%]{display:flex;gap:15px}.column[_ngcontent-%COMP%]{margin-bottom:20px;flex-basis:50%}.column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:18px}textarea[_ngcontent-%COMP%]{display:block;width:100%;min-height:75px;margin-bottom:10px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]})}return e})();var Yi=(()=>{class e{_listeners=[];notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zl=["input"],Al=["formField"],Fl=["*"],ai=class{source;value;constructor(a,t){this.source=a,this.value=t}},Ll={provide:ba,useExisting:ea(()=>Xi),multi:!0},Mn=new Qe("MatRadioGroup"),Pl=new Qe("mat-radio-default-options",{providedIn:"root",factory:Bl});function Bl(){return{color:"accent",disabledInteractive:!1}}var Xi=(()=>{class e{_changeDetector=D(si);_value=null;_name=D(ui).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Je;_radios;color;get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ai(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=It({type:e,selectors:[["mat-radio-group"]],contentQueries:function(i,r,n){if(i&1&&ca(n,Wi,5),i&2){let o;zt(o=At())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",he],required:[2,"required","required",he],disabledInteractive:[2,"disabledInteractive","disabledInteractive",he]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[sa([Ll,{provide:Mn,useExisting:e}])]})}return e})(),Wi=(()=>{class e{_elementRef=D(ni);_changeDetector=D(si);_focusMonitor=D(ma);_radioDispatcher=D(Yi);_defaultOptions=D(Pl,{optional:!0});_ngZone=D(Dt);_renderer=D(na);_uniqueId=D(ui).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new Je;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=D(ta);constructor(){D(ha).load(Ea);let t=D(Mn,{optional:!0}),i=D(aa,{optional:!0}),r=D(new ia("tabindex"),{optional:!0});this.radioGroup=t,this._noopAnimations=i==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=fi(r,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ai(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault()};_updateTabIndex(){let t=this.radioGroup,i;if(!t||!t.selected||this.disabled?i=this.tabIndex:i=t.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,ra(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===r&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=G({type:e,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(i&1&&(di(zl,5),di(Al,7,ni)),i&2){let n;zt(n=At())&&(r._inputElement=n.first),zt(n=At())&&(r._rippleTrigger=n.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){i&1&&x("focus",function(){return r._inputElement.nativeElement.focus()}),i&2&&(oi("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),li("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",he],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:fi(t)],checked:[2,"checked","checked",he],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",he],required:[2,"required","required",he],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",he]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:Fl,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let n=Re();la(),_(0,"div",2,0)(2,"div",3)(3,"div",4),x("click",function(l){return ge(n),ke(r._onTouchTargetClick(l))}),f(),_(4,"input",5,1),x("change",function(l){return ge(n),ke(r._onInputInteraction(l))}),f(),_(6,"div",6),N(7,"div",7)(8,"div",8),f(),_(9,"div",9),N(10,"div",10),f()(),_(11,"label",11),da(12),f()()}i&2&&(z("labelPosition",r.labelPosition),C(2),li("mdc-radio--disabled",r.disabled),C(2),z("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),oi("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),C(5),z("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),C(2),z("for",r.inputId))},dependencies:[Ma,Sa],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return e})();function Zl(e,a){if(e&1){let t=Re();_(0,"mat-checkbox",11),x("change",function(r){let n=ge(t).$implicit,o=ie();return ke(o.checkExpansion(n.name,r))}),v(1),f()}if(e&2){let t=a.$implicit,i=ie();z("checked",i.expansionsFilterSettings()[t.name]),C(),et(t.desc)}}function Gl(e,a){if(e&1){let t=Re();_(0,"mat-radio-button",12),x("change",function(){let r=ge(t).$implicit,n=ie();return ke(n.selectMapSize(r.value))}),v(1),f()}if(e&2){let t=a.$implicit;z("value",t.value),C(),ci(" ",t.name," ")}}function Ul(e,a){if(e&1){let t=Re();_(0,"mat-radio-button",12),x("change",function(){let r=ge(t).$implicit,n=ie();return ke(n.selectPlayerCount(r.value))}),v(1),f()}if(e&2){let t=a.$implicit;z("value",t.value),C(),ci(" ",t.name," ")}}function Hl(e,a){if(e&1){let t=Re();_(0,"mat-checkbox",11),x("change",function(r){let n=ge(t).$implicit,o=ie(2);return ke(o.toggleSetting(n.name,r))}),v(1),f(),N(2,"br")}if(e&2){let t=a.$implicit,i=ie(2);z("checked",i.flipTilesSettings()[t.name]),C(),et(t.desc)}}function jl(e,a){if(e&1&&le(0,Hl,3,2,null,null,oe),e&2){let t=ie();de(t.flip())}}var Tn=(()=>{class e{dialogRef;config;_formBuilder;store;sets;expansionsFilter;expansionsFilterSettings;flipTilesSettings;selectedMapSize=Ze("MEDIUM");savedMapSize;mapSizeOptions=[{value:"SMALL",name:"S"},{value:"MEDIUM",name:"M"},{value:"LARGE",name:"L"}];selectedPlayers=Ze(2);savedPlayerCount;playerOptions=[{value:1,name:"1"},{value:2,name:"2"},{value:3,name:"3"},{value:4,name:"4"},{value:5,name:"5"},{value:6,name:"6"}];flip=Ze([{name:"TOWN",desc:"town"}]);constructor(t,i,r,n){this.dialogRef=t,this.config=i,this._formBuilder=r,this.store=n,this.savedMapSize=this.store.selectSignal(Ra),this.selectedMapSize.set(this.savedMapSize()),this.savedPlayerCount=this.store.selectSignal(Oa),this.selectedPlayers.set(this.savedPlayerCount()),this.sets=this._formBuilder.group(this.generateFormBuilderGroup(i.EXPANSION_FILTER_DESC())),this.expansionsFilterSettings=this.store.selectSignal(Da);let o=this.store.selectSignal(Ia);this.flipTilesSettings=o,this.expansionsFilter=this.generateFilterList(i.EXPANSION(),i.EXPANSION_FILTER_DESC())}ngOnInit(){this.flip.set([{name:"flipTownTiles",desc:"town"},{name:"flipFarTiles",desc:"far"},{name:"flipNearTiles",desc:"near"},{name:"flipCenterTiles",desc:"center"}])}checkExpansion(t,i){this.store.dispatch(nt.changeExpansionFilter({set:t,isChecked:i.checked}))}selectMapSize(t){this.store.dispatch(nt.setMapSize({size:t}))}selectPlayerCount(t){this.store.dispatch(nt.setPlayerCount({count:t}))}toggleSetting(t,i){this.store.dispatch(nt.changeTileGroupFlipped({group:t,isChecked:i.checked}))}generateFormBuilderGroup(t){let i={};return Object.keys(t).forEach(r=>{i[r]=!0}),Object.entries(this.config.filterOptions).forEach(([r,n])=>{i[r]&&(i[r]=n)}),i}generateFilterList(t,i){return Object.keys(t).filter(n=>isNaN(parseInt(n))).map(n=>({name:n,desc:i[n]}))}generateRandomMap(){this.store.dispatch(rt.generateRandomMap()),this.close()}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(P(xe),P(Ft),P(xa),P($))};static \u0275cmp=G({type:e,selectors:[["lib-random-map-dialog"]],decls:26,vars:4,consts:[["title","Generate random map",3,"closeDialog"],["sub-header",""],[1,"filter",3,"formGroup"],[1,"formTitle"],[3,"checked"],[1,"formBlock"],[1,"formBlock-title"],["aria-labelledby","mapsize-group-label",1,"mapSize",3,"ngModelChange","ngModel"],[3,"value"],["aria-labelledby","player-count-group-label",1,"mapSize",3,"ngModelChange","ngModel"],["theme","secondary",3,"click"],[3,"change","checked"],[3,"change","value"]],template:function(i,r){i&1&&(_(0,"homm-dialog",0),x("closeDialog",function(){return r.close()}),_(1,"div",1)(2,"div",2)(3,"span",3),v(4,"Expansions:"),f(),le(5,Zl,2,2,"mat-checkbox",4,oe),f()(),_(7,"div",5)(8,"div",6),v(9,"Map size"),f(),_(10,"mat-radio-group",7),at("ngModelChange",function(o){return it(r.selectedMapSize,o)||(r.selectedMapSize=o),o}),le(11,Gl,2,2,"mat-radio-button",8,oe),f()(),_(13,"div",5)(14,"div",6),v(15,"Player count"),f(),_(16,"mat-radio-group",9),at("ngModelChange",function(o){return it(r.selectedPlayers,o)||(r.selectedPlayers=o),o}),le(17,Ul,2,2,"mat-radio-button",8,oe),f()(),_(19,"div",5)(20,"div",6),v(21,"Flip Tiles"),f(),Rt(22,jl,2,0),f(),N(23,"hr"),_(24,"homm-button",10),x("click",function(){return r.generateRandomMap()}),v(25,"Generate Random Map"),f()()),i&2&&(C(2),z("formGroup",r.sets),C(3),de(r.expansionsFilter),C(5),tt("ngModel",r.selectedMapSize),C(),de(r.mapSizeOptions),C(5),tt("ngModel",r.selectedPlayers),C(),de(r.playerOptions),C(5),Ot(r.flip()?22:-1))},dependencies:[H,Ce,Bt,Lt,ka,Pt,Ta,ya,wa,Wi,Xi,ye],styles:[".mdc-form-field>label{margin-left:-7px!important;color:var(--primary)}mat-checkbox[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]     .mdc-checkbox__background{background:transparent!important;border:2px solid #0c0800!important;border-top-color:#a7a29a!important;border-left-color:#2b4289!important}[_nghost-%COMP%]     .mdc-checkbox__background svg{color:var(--primary)!important}.formBlock[_ngcontent-%COMP%]{margin-bottom:15px}.formBlock[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:50%}.formBlock[_ngcontent-%COMP%]   .formBlock-title[_ngcontent-%COMP%]{font-size:17px;margin-bottom:5px}[_nghost-%COMP%]     .mapSize .mdc-radio, [_nghost-%COMP%]     .players .mdc-radio{display:none}[_nghost-%COMP%]     .mapSize .mdc-label, [_nghost-%COMP%]     .players .mdc-label{display:flex;justify-content:center;align-items:center;padding:0;margin-right:5px;font-size:20px;font-family:Comic Sans MS;width:40px;height:40px;color:#ffe98c;border:3px solid #0c0800;border-top-color:#a7a29a;border-left-color:#a7a29a;transition:border .2s,background-color .2s;background:#0003;cursor:pointer}[_nghost-%COMP%]     .mapSize .mat-mdc-radio-checked .mdc-label, [_nghost-%COMP%]     .players .mat-mdc-radio-checked .mdc-label{color:var(--primary);border-color:var(--primary);border-top-color:#a7a29a;border-left-color:#898278;background:#0006}[_nghost-%COMP%]     .players .mdc-label{font-family:Times New Roman;font-size:24px;font-weight:700}hr[_ngcontent-%COMP%]{border:2px solid #2b4289;border-top-color:#0b0a08}"]})}return e})();var Dn=(()=>{class e{dialogRef;tileMapService=D(Ge);constructor(t){this.dialogRef=t}moveUpLeft(){this.tileMapService.moveAllUpLeft()}moveUpRight(){this.tileMapService.moveAllUpRight()}moveLeft(){this.tileMapService.moveAllLeft()}moveRight(){this.tileMapService.moveAllRight()}moveDownLeft(){this.tileMapService.moveDownLeft()}moveDownRight(){this.tileMapService.moveDownRight()}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(P(xe))};static \u0275cmp=G({type:e,selectors:[["lib-move-tiles-dialog"]],decls:11,vars:6,consts:[["title","Move tiles",3,"closeDialog"],[1,"moveMenu","dialog"],[1,"rot-left",3,"click","iconLeft"],[1,"rot-right",3,"click","iconLeft"],[1,"more-space",3,"click","iconLeft"],[3,"click","iconLeft"]],template:function(i,r){i&1&&(_(0,"homm-dialog",0),x("closeDialog",function(){return r.close()}),_(1,"div",1)(2,"div")(3,"homm-button",2),x("click",function(){return r.moveUpLeft()}),f(),_(4,"homm-button",3),x("click",function(){return r.moveUpRight()}),f()(),_(5,"div")(6,"homm-button",4),x("click",function(){return r.moveLeft()}),f(),_(7,"homm-button",5),x("click",function(){return r.moveRight()}),f()(),_(8,"div")(9,"homm-button",3),x("click",function(){return r.moveDownLeft()}),f(),_(10,"homm-button",2),x("click",function(){return r.moveDownRight()}),f()()()()),i&2&&(C(3),z("iconLeft","up-long"),C(),z("iconLeft","up-long"),C(2),z("iconLeft","left-long"),C(),z("iconLeft","right-long"),C(2),z("iconLeft","down-long"),C(),z("iconLeft","down-long"))},dependencies:[H,Ce,ye],styles:["[_nghost-%COMP%]     .rot-left i{rotate:-45deg}[_nghost-%COMP%]     .rot-right i{rotate:45deg}[_nghost-%COMP%]     homm-button button{margin:0;height:40px;width:40px}.more-space[_ngcontent-%COMP%]{margin-right:55px}.moveMenu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:10px}"]})}return e})();var In=(()=>{class e{store;dialog;signalStore=D(we);tileMapService=D(Ge);generateImage(){this.store.dispatch(rt.generateImage())}clearTileMap(){this.signalStore.setTileList([])}showAbout(){let t=this.dialog.open(La,{height:"500px",width:"100%"})}showImportExport(){let t=this.dialog.open(En,{height:"500px",width:"100%"})}showMapGenerator(){let t=this.dialog.open(Tn,{height:"500px",width:"100%"})}generateRandomMap(){this.store.dispatch(rt.generateRandomMap())}moveTiles(){let t=this.dialog.open(Dn,{height:"250px",width:"55px"})}updateRows(t){this.signalStore.setGrid(t,this.signalStore.grid.columns())}updateCols(t){this.signalStore.setGrid(this.signalStore.grid.rows(),t)}constructor(t,i){this.store=t,this.dialog=i}static \u0275fac=function(i){return new(i||e)(P($),P(pa))};static \u0275cmp=G({type:e,selectors:[["feature-footer"]],decls:14,vars:2,consts:[[1,"footer"],["labelLeft","Rows:",3,"valueChange","value"],["labelLeft","Cols:",3,"valueChange","value"],["iconLeft","up-down-left-right",3,"click"],[3,"click"],["iconLeft","gear",1,"no-gap-left",3,"click"],["theme","warning",3,"click"],["iconLeft","question",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"homm-number-input",1),x("valueChange",function(o){return r.updateRows(o)}),f(),_(2,"homm-number-input",2),x("valueChange",function(o){return r.updateCols(o)}),f(),_(3,"homm-button",3),x("click",function(){return r.moveTiles()}),f(),_(4,"homm-button",4),x("click",function(){return r.generateRandomMap()}),v(5,"Generate Random Map"),f(),_(6,"homm-button",5),x("click",function(){return r.showMapGenerator()}),f(),_(7,"homm-button",4),x("click",function(){return r.showImportExport()}),v(8,"Import / Export"),f(),_(9,"homm-button",6),x("click",function(){return r.clearTileMap()}),v(10,"Clear Map"),f(),_(11,"homm-button",4),x("click",function(){return r.generateImage()}),v(12,"Generate image"),f(),_(13,"homm-button",7),x("click",function(){return r.showAbout()}),f()()),i&2&&(C(),z("value",r.signalStore.grid.rows()),C(),z("value",r.signalStore.grid.columns()))},dependencies:[H,ye,Ca],styles:['[_nghost-%COMP%]{position:fixed;bottom:0;left:0;z-index:100;width:100%}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-wrap:wrap;gap:1rem;background-color:#fff;background-image:url("./media/dialog-background-D2VXJJTS.png");background-repeat:repeat;padding:10px;border-image-source:linear-gradient(to bottom,#b4a46d,#9e8236);border-image-slice:3;border-image-width:3px}.footer[_ngcontent-%COMP%]   .no-gap-left[_ngcontent-%COMP%]{margin-left:-1rem}']})}return e})();function ql(e,a){e&1&&(_(0,"div",0),v(1,"The current tile placement is invalid. Connect all tiles and make sure borders dont isolate tiles"),f())}var us=(()=>{class e{dataConfigService;store;tileMapService=D(Ge);isValid=W(()=>this.tileMapService.isValid());constructor(t,i){this.dataConfigService=t,this.store=i}static \u0275fac=function(i){return new(i||e)(P(Ft),P($))};static \u0275cmp=G({type:e,selectors:[["feature-editor-base"]],decls:5,vars:1,consts:[[1,"invalid-map"],[1,"background"]],template:function(i,r){i&1&&(Rt(0,ql,2,0,"div",0),N(1,"div",1)(2,"feature-grid")(3,"placed-tiles")(4,"feature-footer")),i&2&&Ot(r.isValid()?-1:0)},dependencies:[H,Aa,Fa,In],styles:['.background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;opacity:1;background-image:url("./media/void-3TSXDNXU.png");background-position:center center}.background[_ngcontent-%COMP%]:after{content:"";display:block;height:100%;inset:0;width:100%}.invalid-map[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;padding:10px;background-color:red;color:#fff;font-weight:700;z-index:1000;opacity:.75;pointer-events:none;transition:.25s opacity}.invalid-map.show[_ngcontent-%COMP%]{opacity:.75}']})}return e})();export{us as MapEditorComponent};
