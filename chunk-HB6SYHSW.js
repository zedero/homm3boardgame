import{$ as We,B as de,C as gi,D as Nt,E as Do,F as So,G as ko,H as Ve,I as Ue,J as vi,K as Po,L as Eo,M as en,N as Mo,O as Re,P as To,Q as bi,R as Ro,S as Oo,T as je,U as Io,V as qe,W as Ao,X as wi,Y as Ci,Z as xi,_ as Fo,aa as No,ba as Lo,ca as zo,da as Bo,ea as yi,fa as Ke,ga as Oe,ha as Ho,ja as Lt,na as zt,o as ue,ra as Go,sa as Zo,ta as Vo,ua as Uo,w as me,x as xo,y as yo,za as mt}from"./chunk-IFA3IVSD.js";import{$ as ao,$a as fo,$b as It,Ab as h,Ba as hi,Bb as p,Ca as po,Cb as C,Db as xe,E as oo,F as Xi,Fa as re,Fb as w,Ga as Ze,Gb as Z,Hb as go,Ia as Q,Ib as vo,Ja as _t,Jb as ke,Kb as bo,La as U,Lb as Ji,M as ro,Mb as _i,Nb as fi,Ob as Tt,Pb as b,Qa as _o,Qb as Pe,Rb as Rt,Sb as Ee,Tb as Me,Ua as pi,Ub as Te,Vb as Ot,Wa as ft,Wb as ui,Xa as _,_a as Qi,a as oe,aa as so,ab as H,b as _e,ba as di,bc as fe,c as ee,ca as lo,cb as uo,cc as At,d as us,ec as B,f as pt,fa as co,ga as tt,gb as T,h as $i,ib as it,ja as Se,k as G,kb as Y,l as to,lc as Ft,ma as g,o as io,qb as ut,rb as m,sb as nt,sc as mi,tb as Mt,tc as wo,ub as mo,uc as Co,va as ho,vc as A,wa as $,wb as he,x as no,xa as X,xb as ae,ya as ci,yb as se,zb as le}from"./chunk-IEC7RUIM.js";var ze=ee(ie=>{"use strict";var Us=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function js(e,n){return Object.prototype.hasOwnProperty.call(e,n)}ie.assign=function(e){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var i in t)js(t,i)&&(e[i]=t[i])}}return e};ie.shrinkBuf=function(e,n){return e.length===n?e:e.subarray?e.subarray(0,n):(e.length=n,e)};var qs={arraySet:function(e,n,t,i,o){if(n.subarray&&e.subarray){e.set(n.subarray(t,t+i),o);return}for(var r=0;r<i;r++)e[o+r]=n[t+r]},flattenChunks:function(e){var n,t,i,o,r,a;for(i=0,n=0,t=e.length;n<t;n++)i+=e[n].length;for(a=new Uint8Array(i),o=0,n=0,t=e.length;n<t;n++)r=e[n],a.set(r,o),o+=r.length;return a}},Ws={arraySet:function(e,n,t,i,o){for(var r=0;r<i;r++)e[o+r]=n[t+r]},flattenChunks:function(e){return[].concat.apply([],e)}};ie.setTyped=function(e){e?(ie.Buf8=Uint8Array,ie.Buf16=Uint16Array,ie.Buf32=Int32Array,ie.assign(ie,qs)):(ie.Buf8=Array,ie.Buf16=Array,ie.Buf32=Array,ie.assign(ie,Ws))};ie.setTyped(Us)});var Ur=ee(Ct=>{"use strict";var Ks=ze(),Ys=4,xr=0,yr=1,$s=2;function wt(e){for(var n=e.length;--n>=0;)e[n]=0}var Xs=0,Mr=1,Qs=2,Js=3,el=258,Cn=29,Kt=256,Ut=Kt+1+Cn,bt=30,xn=19,Tr=2*Ut+1,ot=15,un=16,tl=7,yn=256,Rr=16,Or=17,Ir=18,bn=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Oi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],il=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ar=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nl=512,Be=new Array((Ut+2)*2);wt(Be);var Vt=new Array(bt*2);wt(Vt);var jt=new Array(nl);wt(jt);var qt=new Array(el-Js+1);wt(qt);var Dn=new Array(Cn);wt(Dn);var Ii=new Array(bt);wt(Ii);function mn(e,n,t,i,o){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=o,this.has_stree=e&&e.length}var Fr,Nr,Lr;function gn(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}function zr(e){return e<256?jt[e]:jt[256+(e>>>7)]}function Wt(e,n){e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255}function ce(e,n,t){e.bi_valid>un-t?(e.bi_buf|=n<<e.bi_valid&65535,Wt(e,e.bi_buf),e.bi_buf=n>>un-e.bi_valid,e.bi_valid+=t-un):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)}function Ie(e,n,t){ce(e,t[n*2],t[n*2+1])}function Br(e,n){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1}function ol(e){e.bi_valid===16?(Wt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function rl(e,n){var t=n.dyn_tree,i=n.max_code,o=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.extra_bits,s=n.stat_desc.extra_base,c=n.stat_desc.max_length,l,d,x,u,f,S,y=0;for(u=0;u<=ot;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Tr;l++)d=e.heap[l],u=t[t[d*2+1]*2+1]+1,u>c&&(u=c,y++),t[d*2+1]=u,!(d>i)&&(e.bl_count[u]++,f=0,d>=s&&(f=a[d-s]),S=t[d*2],e.opt_len+=S*(u+f),r&&(e.static_len+=S*(o[d*2+1]+f)));if(y!==0){do{for(u=c-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(u=c;u!==0;u--)for(d=e.bl_count[u];d!==0;)x=e.heap[--l],!(x>i)&&(t[x*2+1]!==u&&(e.opt_len+=(u-t[x*2+1])*t[x*2],t[x*2+1]=u),d--)}}function Hr(e,n,t){var i=new Array(ot+1),o=0,r,a;for(r=1;r<=ot;r++)i[r]=o=o+t[r-1]<<1;for(a=0;a<=n;a++){var s=e[a*2+1];s!==0&&(e[a*2]=Br(i[s]++,s))}}function al(){var e,n,t,i,o,r=new Array(ot+1);for(t=0,i=0;i<Cn-1;i++)for(Dn[i]=t,e=0;e<1<<bn[i];e++)qt[t++]=i;for(qt[t-1]=i,o=0,i=0;i<16;i++)for(Ii[i]=o,e=0;e<1<<Oi[i];e++)jt[o++]=i;for(o>>=7;i<bt;i++)for(Ii[i]=o<<7,e=0;e<1<<Oi[i]-7;e++)jt[256+o++]=i;for(n=0;n<=ot;n++)r[n]=0;for(e=0;e<=143;)Be[e*2+1]=8,e++,r[8]++;for(;e<=255;)Be[e*2+1]=9,e++,r[9]++;for(;e<=279;)Be[e*2+1]=7,e++,r[7]++;for(;e<=287;)Be[e*2+1]=8,e++,r[8]++;for(Hr(Be,Ut+1,r),e=0;e<bt;e++)Vt[e*2+1]=5,Vt[e*2]=Br(e,5);Fr=new mn(Be,bn,Kt+1,Ut,ot),Nr=new mn(Vt,Oi,0,bt,ot),Lr=new mn(new Array(0),il,0,xn,tl)}function Gr(e){var n;for(n=0;n<Ut;n++)e.dyn_ltree[n*2]=0;for(n=0;n<bt;n++)e.dyn_dtree[n*2]=0;for(n=0;n<xn;n++)e.bl_tree[n*2]=0;e.dyn_ltree[yn*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Zr(e){e.bi_valid>8?Wt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function sl(e,n,t,i){Zr(e),i&&(Wt(e,t),Wt(e,~t)),Ks.arraySet(e.pending_buf,e.window,n,t,e.pending),e.pending+=t}function Dr(e,n,t,i){var o=n*2,r=t*2;return e[o]<e[r]||e[o]===e[r]&&i[n]<=i[t]}function vn(e,n,t){for(var i=e.heap[t],o=t<<1;o<=e.heap_len&&(o<e.heap_len&&Dr(n,e.heap[o+1],e.heap[o],e.depth)&&o++,!Dr(n,i,e.heap[o],e.depth));)e.heap[t]=e.heap[o],t=o,o<<=1;e.heap[t]=i}function Sr(e,n,t){var i,o,r=0,a,s;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+r*2]<<8|e.pending_buf[e.d_buf+r*2+1],o=e.pending_buf[e.l_buf+r],r++,i===0?Ie(e,o,n):(a=qt[o],Ie(e,a+Kt+1,n),s=bn[a],s!==0&&(o-=Dn[a],ce(e,o,s)),i--,a=zr(i),Ie(e,a,t),s=Oi[a],s!==0&&(i-=Ii[a],ce(e,i,s)));while(r<e.last_lit);Ie(e,yn,n)}function wn(e,n){var t=n.dyn_tree,i=n.stat_desc.static_tree,o=n.stat_desc.has_stree,r=n.stat_desc.elems,a,s,c=-1,l;for(e.heap_len=0,e.heap_max=Tr,a=0;a<r;a++)t[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):t[a*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=i[l*2+1]);for(n.max_code=c,a=e.heap_len>>1;a>=1;a--)vn(e,t,a);l=r;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vn(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,t[l*2]=t[a*2]+t[s*2],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,t[a*2+1]=t[s*2+1]=l,e.heap[1]=l++,vn(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],rl(e,n),Hr(t,c,e.bl_count)}function kr(e,n,t){var i,o=-1,r,a=n[0*2+1],s=0,c=7,l=4;for(a===0&&(c=138,l=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)r=a,a=n[(i+1)*2+1],!(++s<c&&r===a)&&(s<l?e.bl_tree[r*2]+=s:r!==0?(r!==o&&e.bl_tree[r*2]++,e.bl_tree[Rr*2]++):s<=10?e.bl_tree[Or*2]++:e.bl_tree[Ir*2]++,s=0,o=r,a===0?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4))}function Pr(e,n,t){var i,o=-1,r,a=n[0*2+1],s=0,c=7,l=4;for(a===0&&(c=138,l=3),i=0;i<=t;i++)if(r=a,a=n[(i+1)*2+1],!(++s<c&&r===a)){if(s<l)do Ie(e,r,e.bl_tree);while(--s!==0);else r!==0?(r!==o&&(Ie(e,r,e.bl_tree),s--),Ie(e,Rr,e.bl_tree),ce(e,s-3,2)):s<=10?(Ie(e,Or,e.bl_tree),ce(e,s-3,3)):(Ie(e,Ir,e.bl_tree),ce(e,s-11,7));s=0,o=r,a===0?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4)}}function ll(e){var n;for(kr(e,e.dyn_ltree,e.l_desc.max_code),kr(e,e.dyn_dtree,e.d_desc.max_code),wn(e,e.bl_desc),n=xn-1;n>=3&&e.bl_tree[Ar[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n}function dl(e,n,t,i){var o;for(ce(e,n-257,5),ce(e,t-1,5),ce(e,i-4,4),o=0;o<i;o++)ce(e,e.bl_tree[Ar[o]*2+1],3);Pr(e,e.dyn_ltree,n-1),Pr(e,e.dyn_dtree,t-1)}function cl(e){var n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return xr;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return yr;for(t=32;t<Kt;t++)if(e.dyn_ltree[t*2]!==0)return yr;return xr}var Er=!1;function hl(e){Er||(al(),Er=!0),e.l_desc=new gn(e.dyn_ltree,Fr),e.d_desc=new gn(e.dyn_dtree,Nr),e.bl_desc=new gn(e.bl_tree,Lr),e.bi_buf=0,e.bi_valid=0,Gr(e)}function Vr(e,n,t,i){ce(e,(Xs<<1)+(i?1:0),3),sl(e,n,t,!0)}function pl(e){ce(e,Mr<<1,3),Ie(e,yn,Be),ol(e)}function _l(e,n,t,i){var o,r,a=0;e.level>0?(e.strm.data_type===$s&&(e.strm.data_type=cl(e)),wn(e,e.l_desc),wn(e,e.d_desc),a=ll(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=t+5,t+4<=o&&n!==-1?Vr(e,n,t,i):e.strategy===Ys||r===o?(ce(e,(Mr<<1)+(i?1:0),3),Sr(e,Be,Vt)):(ce(e,(Qs<<1)+(i?1:0),3),dl(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Sr(e,e.dyn_ltree,e.dyn_dtree)),Gr(e),i&&Zr(e)}function fl(e,n,t){return e.pending_buf[e.d_buf+e.last_lit*2]=n>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=n&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(qt[t]+Kt+1)*2]++,e.dyn_dtree[zr(n)*2]++),e.last_lit===e.lit_bufsize-1}Ct._tr_init=hl;Ct._tr_stored_block=Vr;Ct._tr_flush_block=_l;Ct._tr_tally=fl;Ct._tr_align=pl});var Sn=ee((ip,jr)=>{"use strict";function ul(e,n,t,i){for(var o=e&65535|0,r=e>>>16&65535|0,a=0;t!==0;){a=t>2e3?2e3:t,t-=a;do o=o+n[i++]|0,r=r+o|0;while(--a);o%=65521,r%=65521}return o|r<<16|0}jr.exports=ul});var kn=ee((np,qr)=>{"use strict";function ml(){for(var e,n=[],t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n}var gl=ml();function vl(e,n,t,i){var o=gl,r=i+t;e^=-1;for(var a=i;a<r;a++)e=e>>>8^o[(e^n[a])&255];return e^-1}qr.exports=vl});var Ai=ee((op,Wr)=>{"use strict";Wr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ia=ee(Ne=>{"use strict";var ne=ze(),ve=Ur(),Xr=Sn(),Ye=kn(),bl=Ai(),lt=0,wl=1,Cl=3,et=4,Kr=5,Fe=0,Yr=1,be=-2,xl=-3,Pn=-5,yl=-1,Dl=1,Fi=2,Sl=3,kl=4,Pl=0,El=2,Bi=8,Ml=9,Tl=15,Rl=8,Ol=29,Il=256,Mn=Il+1+Ol,Al=30,Fl=19,Nl=2*Mn+1,Ll=15,R=3,Qe=258,ye=Qe+R+1,zl=32,Hi=42,Tn=69,Ni=73,Li=91,zi=103,rt=113,$t=666,K=1,Xt=2,at=3,Dt=4,Bl=3;function Je(e,n){return e.msg=bl[n],n}function $r(e){return(e<<1)-(e>4?9:0)}function Xe(e){for(var n=e.length;--n>=0;)e[n]=0}function $e(e){var n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(ne.arraySet(e.output,n.pending_buf,n.pending_out,t,e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))}function J(e,n){ve._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,$e(e.strm)}function F(e,n){e.pending_buf[e.pending++]=n}function Yt(e,n){e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255}function Hl(e,n,t,i){var o=e.avail_in;return o>i&&(o=i),o===0?0:(e.avail_in-=o,ne.arraySet(n,e.input,e.next_in,o,t),e.state.wrap===1?e.adler=Xr(e.adler,n,o,t):e.state.wrap===2&&(e.adler=Ye(e.adler,n,o,t)),e.next_in+=o,e.total_in+=o,o)}function Qr(e,n){var t=e.max_chain_length,i=e.strstart,o,r,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-ye?e.strstart-(e.w_size-ye):0,l=e.window,d=e.w_mask,x=e.prev,u=e.strstart+Qe,f=l[i+a-1],S=l[i+a];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(o=n,!(l[o+a]!==S||l[o+a-1]!==f||l[o]!==l[i]||l[++o]!==l[i+1])){i+=2,o++;do;while(l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&i<u);if(r=Qe-(u-i),i=u-Qe,r>a){if(e.match_start=n,a=r,r>=s)break;f=l[i+a-1],S=l[i+a]}}while((n=x[n&d])>c&&--t!==0);return a<=e.lookahead?a:e.lookahead}function st(e){var n=e.w_size,t,i,o,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-ye)){ne.arraySet(e.window,e.window,n,n,0),e.match_start-=n,e.strstart-=n,e.block_start-=n,i=e.hash_size,t=i;do o=e.head[--t],e.head[t]=o>=n?o-n:0;while(--i);i=n,t=i;do o=e.prev[--t],e.prev[t]=o>=n?o-n:0;while(--i);r+=n}if(e.strm.avail_in===0)break;if(i=Hl(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=i,e.lookahead+e.insert>=R)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+R-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<ye&&e.strm.avail_in!==0)}function Gl(e,n){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(st(e),e.lookahead===0&&n===lt)return K;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+t;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,J(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-ye&&(J(e,!1),e.strm.avail_out===0))return K}return e.insert=0,n===et?(J(e,!0),e.strm.avail_out===0?at:Dt):(e.strstart>e.block_start&&(J(e,!1),e.strm.avail_out===0),K)}function En(e,n){for(var t,i;;){if(e.lookahead<ye){if(st(e),e.lookahead<ye&&n===lt)return K;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-ye&&(e.match_length=Qr(e,t)),e.match_length>=R)if(i=ve._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=ve._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(J(e,!1),e.strm.avail_out===0))return K}return e.insert=e.strstart<R-1?e.strstart:R-1,n===et?(J(e,!0),e.strm.avail_out===0?at:Dt):e.last_lit&&(J(e,!1),e.strm.avail_out===0)?K:Xt}function xt(e,n){for(var t,i,o;;){if(e.lookahead<ye){if(st(e),e.lookahead<ye&&n===lt)return K;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-ye&&(e.match_length=Qr(e,t),e.match_length<=5&&(e.strategy===Dl||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-R,i=ve._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,i&&(J(e,!1),e.strm.avail_out===0))return K}else if(e.match_available){if(i=ve._tr_tally(e,0,e.window[e.strstart-1]),i&&J(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ve._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,n===et?(J(e,!0),e.strm.avail_out===0?at:Dt):e.last_lit&&(J(e,!1),e.strm.avail_out===0)?K:Xt}function Zl(e,n){for(var t,i,o,r,a=e.window;;){if(e.lookahead<=Qe){if(st(e),e.lookahead<=Qe&&n===lt)return K;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(o=e.strstart-1,i=a[o],i===a[++o]&&i===a[++o]&&i===a[++o])){r=e.strstart+Qe;do;while(i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<r);e.match_length=Qe-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(t=ve._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=ve._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(J(e,!1),e.strm.avail_out===0))return K}return e.insert=0,n===et?(J(e,!0),e.strm.avail_out===0?at:Dt):e.last_lit&&(J(e,!1),e.strm.avail_out===0)?K:Xt}function Vl(e,n){for(var t;;){if(e.lookahead===0&&(st(e),e.lookahead===0)){if(n===lt)return K;break}if(e.match_length=0,t=ve._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(J(e,!1),e.strm.avail_out===0))return K}return e.insert=0,n===et?(J(e,!0),e.strm.avail_out===0?at:Dt):e.last_lit&&(J(e,!1),e.strm.avail_out===0)?K:Xt}function Ae(e,n,t,i,o){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=o}var yt;yt=[new Ae(0,0,0,0,Gl),new Ae(4,4,8,4,En),new Ae(4,5,16,8,En),new Ae(4,6,32,32,En),new Ae(4,4,16,16,xt),new Ae(8,16,32,32,xt),new Ae(8,16,128,128,xt),new Ae(8,32,128,256,xt),new Ae(32,128,258,1024,xt),new Ae(32,258,258,4096,xt)];function Ul(e){e.window_size=2*e.w_size,Xe(e.head),e.max_lazy_match=yt[e.level].max_lazy,e.good_match=yt[e.level].good_length,e.nice_match=yt[e.level].nice_length,e.max_chain_length=yt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0}function jl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Bi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ne.Buf16(Nl*2),this.dyn_dtree=new ne.Buf16((2*Al+1)*2),this.bl_tree=new ne.Buf16((2*Fl+1)*2),Xe(this.dyn_ltree),Xe(this.dyn_dtree),Xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ne.Buf16(Ll+1),this.heap=new ne.Buf16(2*Mn+1),Xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ne.Buf16(2*Mn+1),Xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jr(e){var n;return!e||!e.state?Je(e,be):(e.total_in=e.total_out=0,e.data_type=El,n=e.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?Hi:rt,e.adler=n.wrap===2?0:1,n.last_flush=lt,ve._tr_init(n),Fe)}function ea(e){var n=Jr(e);return n===Fe&&Ul(e.state),n}function ql(e,n){return!e||!e.state||e.state.wrap!==2?be:(e.state.gzhead=n,Fe)}function ta(e,n,t,i,o,r){if(!e)return be;var a=1;if(n===yl&&(n=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>Ml||t!==Bi||i<8||i>15||n<0||n>9||r<0||r>kl)return Je(e,be);i===8&&(i=9);var s=new jl;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+R-1)/R),s.window=new ne.Buf8(s.w_size*2),s.head=new ne.Buf16(s.hash_size),s.prev=new ne.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new ne.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=n,s.strategy=r,s.method=t,ea(e)}function Wl(e,n){return ta(e,n,Bi,Tl,Rl,Pl)}function Kl(e,n){var t,i,o,r;if(!e||!e.state||n>Kr||n<0)return e?Je(e,be):be;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===$t&&n!==et)return Je(e,e.avail_out===0?Pn:be);if(i.strm=e,t=i.last_flush,i.last_flush=n,i.status===Hi)if(i.wrap===2)e.adler=0,F(i,31),F(i,139),F(i,8),i.gzhead?(F(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),F(i,i.gzhead.time&255),F(i,i.gzhead.time>>8&255),F(i,i.gzhead.time>>16&255),F(i,i.gzhead.time>>24&255),F(i,i.level===9?2:i.strategy>=Fi||i.level<2?4:0),F(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(F(i,i.gzhead.extra.length&255),F(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Ye(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Tn):(F(i,0),F(i,0),F(i,0),F(i,0),F(i,0),F(i,i.level===9?2:i.strategy>=Fi||i.level<2?4:0),F(i,Bl),i.status=rt);else{var a=Bi+(i.w_bits-8<<4)<<8,s=-1;i.strategy>=Fi||i.level<2?s=0:i.level<6?s=1:i.level===6?s=2:s=3,a|=s<<6,i.strstart!==0&&(a|=zl),a+=31-a%31,i.status=rt,Yt(i,a),i.strstart!==0&&(Yt(i,e.adler>>>16),Yt(i,e.adler&65535)),e.adler=1}if(i.status===Tn)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=Ye(e.adler,i.pending_buf,i.pending-o,o)),$e(e),o=i.pending,i.pending===i.pending_buf_size));)F(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=Ye(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Ni)}else i.status=Ni;if(i.status===Ni)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=Ye(e.adler,i.pending_buf,i.pending-o,o)),$e(e),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.name.length?r=i.gzhead.name.charCodeAt(i.gzindex++)&255:r=0,F(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>o&&(e.adler=Ye(e.adler,i.pending_buf,i.pending-o,o)),r===0&&(i.gzindex=0,i.status=Li)}else i.status=Li;if(i.status===Li)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=Ye(e.adler,i.pending_buf,i.pending-o,o)),$e(e),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.comment.length?r=i.gzhead.comment.charCodeAt(i.gzindex++)&255:r=0,F(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>o&&(e.adler=Ye(e.adler,i.pending_buf,i.pending-o,o)),r===0&&(i.status=zi)}else i.status=zi;if(i.status===zi&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&$e(e),i.pending+2<=i.pending_buf_size&&(F(i,e.adler&255),F(i,e.adler>>8&255),e.adler=0,i.status=rt)):i.status=rt),i.pending!==0){if($e(e),e.avail_out===0)return i.last_flush=-1,Fe}else if(e.avail_in===0&&$r(n)<=$r(t)&&n!==et)return Je(e,Pn);if(i.status===$t&&e.avail_in!==0)return Je(e,Pn);if(e.avail_in!==0||i.lookahead!==0||n!==lt&&i.status!==$t){var c=i.strategy===Fi?Vl(i,n):i.strategy===Sl?Zl(i,n):yt[i.level].func(i,n);if((c===at||c===Dt)&&(i.status=$t),c===K||c===at)return e.avail_out===0&&(i.last_flush=-1),Fe;if(c===Xt&&(n===wl?ve._tr_align(i):n!==Kr&&(ve._tr_stored_block(i,0,0,!1),n===Cl&&(Xe(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),$e(e),e.avail_out===0))return i.last_flush=-1,Fe}return n!==et?Fe:i.wrap<=0?Yr:(i.wrap===2?(F(i,e.adler&255),F(i,e.adler>>8&255),F(i,e.adler>>16&255),F(i,e.adler>>24&255),F(i,e.total_in&255),F(i,e.total_in>>8&255),F(i,e.total_in>>16&255),F(i,e.total_in>>24&255)):(Yt(i,e.adler>>>16),Yt(i,e.adler&65535)),$e(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Fe:Yr)}function Yl(e){var n;return!e||!e.state?be:(n=e.state.status,n!==Hi&&n!==Tn&&n!==Ni&&n!==Li&&n!==zi&&n!==rt&&n!==$t?Je(e,be):(e.state=null,n===rt?Je(e,xl):Fe))}function $l(e,n){var t=n.length,i,o,r,a,s,c,l,d;if(!e||!e.state||(i=e.state,a=i.wrap,a===2||a===1&&i.status!==Hi||i.lookahead))return be;for(a===1&&(e.adler=Xr(e.adler,n,t,0)),i.wrap=0,t>=i.w_size&&(a===0&&(Xe(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new ne.Buf8(i.w_size),ne.arraySet(d,n,t-i.w_size,i.w_size,0),n=d,t=i.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=t,e.next_in=0,e.input=n,st(i);i.lookahead>=R;){o=i.strstart,r=i.lookahead-(R-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[o+R-1])&i.hash_mask,i.prev[o&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=o,o++;while(--r);i.strstart=o,i.lookahead=R-1,st(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=R-1,i.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,i.wrap=a,Fe}Ne.deflateInit=Wl;Ne.deflateInit2=ta;Ne.deflateReset=ea;Ne.deflateResetKeep=Jr;Ne.deflateSetHeader=ql;Ne.deflate=Kl;Ne.deflateEnd=Yl;Ne.deflateSetDictionary=$l;Ne.deflateInfo="pako deflate (from Nodeca project)"});var Rn=ee(St=>{"use strict";var Gi=ze(),na=!0,oa=!0;try{String.fromCharCode.apply(null,[0])}catch{na=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oa=!1}var Qt=new Gi.Buf8(256);for(He=0;He<256;He++)Qt[He]=He>=252?6:He>=248?5:He>=240?4:He>=224?3:He>=192?2:1;var He;Qt[254]=Qt[254]=1;St.string2buf=function(e){var n,t,i,o,r,a=e.length,s=0;for(o=0;o<a;o++)t=e.charCodeAt(o),(t&64512)===55296&&o+1<a&&(i=e.charCodeAt(o+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),o++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Gi.Buf8(s),r=0,o=0;r<s;o++)t=e.charCodeAt(o),(t&64512)===55296&&o+1<a&&(i=e.charCodeAt(o+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),o++)),t<128?n[r++]=t:t<2048?(n[r++]=192|t>>>6,n[r++]=128|t&63):t<65536?(n[r++]=224|t>>>12,n[r++]=128|t>>>6&63,n[r++]=128|t&63):(n[r++]=240|t>>>18,n[r++]=128|t>>>12&63,n[r++]=128|t>>>6&63,n[r++]=128|t&63);return n};function ra(e,n){if(n<65534&&(e.subarray&&oa||!e.subarray&&na))return String.fromCharCode.apply(null,Gi.shrinkBuf(e,n));for(var t="",i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t}St.buf2binstring=function(e){return ra(e,e.length)};St.binstring2buf=function(e){for(var n=new Gi.Buf8(e.length),t=0,i=n.length;t<i;t++)n[t]=e.charCodeAt(t);return n};St.buf2string=function(e,n){var t,i,o,r,a=n||e.length,s=new Array(a*2);for(i=0,t=0;t<a;){if(o=e[t++],o<128){s[i++]=o;continue}if(r=Qt[o],r>4){s[i++]=65533,t+=r-1;continue}for(o&=r===2?31:r===3?15:7;r>1&&t<a;)o=o<<6|e[t++]&63,r--;if(r>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return ra(s,i)};St.utf8border=function(e,n){var t;for(n=n||e.length,n>e.length&&(n=e.length),t=n-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Qt[e[t]]>n?t:n}});var On=ee((sp,aa)=>{"use strict";function Xl(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}aa.exports=Xl});var ca=ee(ti=>{"use strict";var Jt=ia(),ei=ze(),An=Rn(),Fn=Ai(),Ql=On(),da=Object.prototype.toString,Jl=0,In=4,kt=0,sa=1,la=2,ed=-1,td=0,id=8;function dt(e){if(!(this instanceof dt))return new dt(e);this.options=ei.assign({level:ed,method:id,chunkSize:16384,windowBits:15,memLevel:8,strategy:td,to:""},e||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ql,this.strm.avail_out=0;var t=Jt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==kt)throw new Error(Fn[t]);if(n.header&&Jt.deflateSetHeader(this.strm,n.header),n.dictionary){var i;if(typeof n.dictionary=="string"?i=An.string2buf(n.dictionary):da.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Jt.deflateSetDictionary(this.strm,i),t!==kt)throw new Error(Fn[t]);this._dict_set=!0}}dt.prototype.push=function(e,n){var t=this.strm,i=this.options.chunkSize,o,r;if(this.ended)return!1;r=n===~~n?n:n===!0?In:Jl,typeof e=="string"?t.input=An.string2buf(e):da.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new ei.Buf8(i),t.next_out=0,t.avail_out=i),o=Jt.deflate(t,r),o!==sa&&o!==kt)return this.onEnd(o),this.ended=!0,!1;(t.avail_out===0||t.avail_in===0&&(r===In||r===la))&&(this.options.to==="string"?this.onData(An.buf2binstring(ei.shrinkBuf(t.output,t.next_out))):this.onData(ei.shrinkBuf(t.output,t.next_out)))}while((t.avail_in>0||t.avail_out===0)&&o!==sa);return r===In?(o=Jt.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===kt):(r===la&&(this.onEnd(kt),t.avail_out=0),!0)};dt.prototype.onData=function(e){this.chunks.push(e)};dt.prototype.onEnd=function(e){e===kt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ei.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Nn(e,n){var t=new dt(n);if(t.push(e,!0),t.err)throw t.msg||Fn[t.err];return t.result}function nd(e,n){return n=n||{},n.raw=!0,Nn(e,n)}function od(e,n){return n=n||{},n.gzip=!0,Nn(e,n)}ti.Deflate=dt;ti.deflate=Nn;ti.deflateRaw=nd;ti.gzip=od});var pa=ee((dp,ha)=>{"use strict";var Zi=30,rd=12;ha.exports=function(n,t){var i,o,r,a,s,c,l,d,x,u,f,S,y,D,k,z,N,M,v,L,O,P,I,j,E;i=n.state,o=n.next_in,j=n.input,r=o+(n.avail_in-5),a=n.next_out,E=n.output,s=a-(t-n.avail_out),c=a+(n.avail_out-257),l=i.dmax,d=i.wsize,x=i.whave,u=i.wnext,f=i.window,S=i.hold,y=i.bits,D=i.lencode,k=i.distcode,z=(1<<i.lenbits)-1,N=(1<<i.distbits)-1;e:do{y<15&&(S+=j[o++]<<y,y+=8,S+=j[o++]<<y,y+=8),M=D[S&z];t:for(;;){if(v=M>>>24,S>>>=v,y-=v,v=M>>>16&255,v===0)E[a++]=M&65535;else if(v&16){L=M&65535,v&=15,v&&(y<v&&(S+=j[o++]<<y,y+=8),L+=S&(1<<v)-1,S>>>=v,y-=v),y<15&&(S+=j[o++]<<y,y+=8,S+=j[o++]<<y,y+=8),M=k[S&N];i:for(;;){if(v=M>>>24,S>>>=v,y-=v,v=M>>>16&255,v&16){if(O=M&65535,v&=15,y<v&&(S+=j[o++]<<y,y+=8,y<v&&(S+=j[o++]<<y,y+=8)),O+=S&(1<<v)-1,O>l){n.msg="invalid distance too far back",i.mode=Zi;break e}if(S>>>=v,y-=v,v=a-s,O>v){if(v=O-v,v>x&&i.sane){n.msg="invalid distance too far back",i.mode=Zi;break e}if(P=0,I=f,u===0){if(P+=d-v,v<L){L-=v;do E[a++]=f[P++];while(--v);P=a-O,I=E}}else if(u<v){if(P+=d+u-v,v-=u,v<L){L-=v;do E[a++]=f[P++];while(--v);if(P=0,u<L){v=u,L-=v;do E[a++]=f[P++];while(--v);P=a-O,I=E}}}else if(P+=u-v,v<L){L-=v;do E[a++]=f[P++];while(--v);P=a-O,I=E}for(;L>2;)E[a++]=I[P++],E[a++]=I[P++],E[a++]=I[P++],L-=3;L&&(E[a++]=I[P++],L>1&&(E[a++]=I[P++]))}else{P=a-O;do E[a++]=E[P++],E[a++]=E[P++],E[a++]=E[P++],L-=3;while(L>2);L&&(E[a++]=E[P++],L>1&&(E[a++]=E[P++]))}}else if((v&64)===0){M=k[(M&65535)+(S&(1<<v)-1)];continue i}else{n.msg="invalid distance code",i.mode=Zi;break e}break}}else if((v&64)===0){M=D[(M&65535)+(S&(1<<v)-1)];continue t}else if(v&32){i.mode=rd;break e}else{n.msg="invalid literal/length code",i.mode=Zi;break e}break}}while(o<r&&a<c);L=y>>3,o-=L,y-=L<<3,S&=(1<<y)-1,n.next_in=o,n.next_out=a,n.avail_in=o<r?5+(r-o):5-(o-r),n.avail_out=a<c?257+(c-a):257-(a-c),i.hold=S,i.bits=y}});var ba=ee((cp,va)=>{"use strict";var _a=ze(),Pt=15,fa=852,ua=592,ma=0,Ln=1,ga=2,ad=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],sd=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ld=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dd=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];va.exports=function(n,t,i,o,r,a,s,c){var l=c.bits,d=0,x=0,u=0,f=0,S=0,y=0,D=0,k=0,z=0,N=0,M,v,L,O,P,I=null,j=0,E,Ce=new _a.Buf16(Pt+1),ri=new _a.Buf16(Pt+1),ai=null,Jn=0,eo,si,li;for(d=0;d<=Pt;d++)Ce[d]=0;for(x=0;x<o;x++)Ce[t[i+x]]++;for(S=l,f=Pt;f>=1&&Ce[f]===0;f--);if(S>f&&(S=f),f===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,c.bits=1,0;for(u=1;u<f&&Ce[u]===0;u++);for(S<u&&(S=u),k=1,d=1;d<=Pt;d++)if(k<<=1,k-=Ce[d],k<0)return-1;if(k>0&&(n===ma||f!==1))return-1;for(ri[1]=0,d=1;d<Pt;d++)ri[d+1]=ri[d]+Ce[d];for(x=0;x<o;x++)t[i+x]!==0&&(s[ri[t[i+x]]++]=x);if(n===ma?(I=ai=s,E=19):n===Ln?(I=ad,j-=257,ai=sd,Jn-=257,E=256):(I=ld,ai=dd,E=-1),N=0,x=0,d=u,P=a,y=S,D=0,L=-1,z=1<<S,O=z-1,n===Ln&&z>fa||n===ga&&z>ua)return 1;for(;;){eo=d-D,s[x]<E?(si=0,li=s[x]):s[x]>E?(si=ai[Jn+s[x]],li=I[j+s[x]]):(si=96,li=0),M=1<<d-D,v=1<<y,u=v;do v-=M,r[P+(N>>D)+v]=eo<<24|si<<16|li|0;while(v!==0);for(M=1<<d-1;N&M;)M>>=1;if(M!==0?(N&=M-1,N+=M):N=0,x++,--Ce[d]===0){if(d===f)break;d=t[i+s[x]]}if(d>S&&(N&O)!==L){for(D===0&&(D=S),P+=u,y=d-D,k=1<<y;y+D<f&&(k-=Ce[y+D],!(k<=0));)y++,k<<=1;if(z+=1<<y,n===Ln&&z>fa||n===ga&&z>ua)return 1;L=N&O,r[L]=S<<24|y<<16|P-a|0}}return N!==0&&(r[P+N]=d-D<<24|64<<16|0),c.bits=S,0}});var es=ee(De=>{"use strict";var pe=ze(),Vn=Sn(),Le=kn(),cd=pa(),ii=ba(),hd=0,ja=1,qa=2,wa=4,pd=5,Vi=6,ct=0,_d=1,fd=2,we=-2,Wa=-3,Un=-4,ud=-5,Ca=8,Ka=1,xa=2,ya=3,Da=4,Sa=5,ka=6,Pa=7,Ea=8,Ma=9,Ta=10,qi=11,Ge=12,zn=13,Ra=14,Bn=15,Oa=16,Ia=17,Aa=18,Fa=19,Ui=20,ji=21,Na=22,La=23,za=24,Ba=25,Ha=26,Hn=27,Ga=28,Za=29,V=30,jn=31,md=32,gd=852,vd=592,bd=15,wd=bd;function Va(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function Cd(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new pe.Buf16(320),this.work=new pe.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ya(e){var n;return!e||!e.state?we:(n=e.state,e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Ka,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new pe.Buf32(gd),n.distcode=n.distdyn=new pe.Buf32(vd),n.sane=1,n.back=-1,ct)}function $a(e){var n;return!e||!e.state?we:(n=e.state,n.wsize=0,n.whave=0,n.wnext=0,Ya(e))}function Xa(e,n){var t,i;return!e||!e.state||(i=e.state,n<0?(t=0,n=-n):(t=(n>>4)+1,n<48&&(n&=15)),n&&(n<8||n>15))?we:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,$a(e))}function Qa(e,n){var t,i;return e?(i=new Cd,e.state=i,i.window=null,t=Xa(e,n),t!==ct&&(e.state=null),t):we}function xd(e){return Qa(e,wd)}var Ua=!0,Gn,Zn;function yd(e){if(Ua){var n;for(Gn=new pe.Buf32(512),Zn=new pe.Buf32(32),n=0;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(ii(ja,e.lens,0,288,Gn,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;ii(qa,e.lens,0,32,Zn,0,e.work,{bits:5}),Ua=!1}e.lencode=Gn,e.lenbits=9,e.distcode=Zn,e.distbits=5}function Ja(e,n,t,i){var o,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new pe.Buf8(r.wsize)),i>=r.wsize?(pe.arraySet(r.window,n,t-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),pe.arraySet(r.window,n,t-i,o,r.wnext),i-=o,i?(pe.arraySet(r.window,n,t-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function Dd(e,n){var t,i,o,r,a,s,c,l,d,x,u,f,S,y,D=0,k,z,N,M,v,L,O,P,I=new pe.Buf8(4),j,E,Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return we;t=e.state,t.mode===Ge&&(t.mode=zn),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,i=e.input,s=e.avail_in,l=t.hold,d=t.bits,x=s,u=c,P=ct;e:for(;;)switch(t.mode){case Ka:if(t.wrap===0){t.mode=zn;break}for(;d<16;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(t.wrap&2&&l===35615){t.check=0,I[0]=l&255,I[1]=l>>>8&255,t.check=Le(t.check,I,2,0),l=0,d=0,t.mode=xa;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=V;break}if((l&15)!==Ca){e.msg="unknown compression method",t.mode=V;break}if(l>>>=4,d-=4,O=(l&15)+8,t.wbits===0)t.wbits=O;else if(O>t.wbits){e.msg="invalid window size",t.mode=V;break}t.dmax=1<<O,e.adler=t.check=1,t.mode=l&512?Ta:Ge,l=0,d=0;break;case xa:for(;d<16;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(t.flags=l,(t.flags&255)!==Ca){e.msg="unknown compression method",t.mode=V;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=V;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,t.check=Le(t.check,I,2,0)),l=0,d=0,t.mode=ya;case ya:for(;d<32;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}t.head&&(t.head.time=l),t.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,I[2]=l>>>16&255,I[3]=l>>>24&255,t.check=Le(t.check,I,4,0)),l=0,d=0,t.mode=Da;case Da:for(;d<16;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,t.check=Le(t.check,I,2,0)),l=0,d=0,t.mode=Sa;case Sa:if(t.flags&1024){for(;d<16;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,t.check=Le(t.check,I,2,0)),l=0,d=0}else t.head&&(t.head.extra=null);t.mode=ka;case ka:if(t.flags&1024&&(f=t.length,f>s&&(f=s),f&&(t.head&&(O=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),pe.arraySet(t.head.extra,i,r,f,O)),t.flags&512&&(t.check=Le(t.check,i,f,r)),s-=f,r+=f,t.length-=f),t.length))break e;t.length=0,t.mode=Pa;case Pa:if(t.flags&2048){if(s===0)break e;f=0;do O=i[r+f++],t.head&&O&&t.length<65536&&(t.head.name+=String.fromCharCode(O));while(O&&f<s);if(t.flags&512&&(t.check=Le(t.check,i,f,r)),s-=f,r+=f,O)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ea;case Ea:if(t.flags&4096){if(s===0)break e;f=0;do O=i[r+f++],t.head&&O&&t.length<65536&&(t.head.comment+=String.fromCharCode(O));while(O&&f<s);if(t.flags&512&&(t.check=Le(t.check,i,f,r)),s-=f,r+=f,O)break e}else t.head&&(t.head.comment=null);t.mode=Ma;case Ma:if(t.flags&512){for(;d<16;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=V;break}l=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ge;break;case Ta:for(;d<32;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}e.adler=t.check=Va(l),l=0,d=0,t.mode=qi;case qi:if(t.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,t.hold=l,t.bits=d,fd;e.adler=t.check=1,t.mode=Ge;case Ge:if(n===pd||n===Vi)break e;case zn:if(t.last){l>>>=d&7,d-=d&7,t.mode=Hn;break}for(;d<3;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}switch(t.last=l&1,l>>>=1,d-=1,l&3){case 0:t.mode=Ra;break;case 1:if(yd(t),t.mode=Ui,n===Vi){l>>>=2,d-=2;break e}break;case 2:t.mode=Ia;break;case 3:e.msg="invalid block type",t.mode=V}l>>>=2,d-=2;break;case Ra:for(l>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=V;break}if(t.length=l&65535,l=0,d=0,t.mode=Bn,n===Vi)break e;case Bn:t.mode=Oa;case Oa:if(f=t.length,f){if(f>s&&(f=s),f>c&&(f=c),f===0)break e;pe.arraySet(o,i,r,f,a),s-=f,r+=f,c-=f,a+=f,t.length-=f;break}t.mode=Ge;break;case Ia:for(;d<14;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(t.nlen=(l&31)+257,l>>>=5,d-=5,t.ndist=(l&31)+1,l>>>=5,d-=5,t.ncode=(l&15)+4,l>>>=4,d-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=V;break}t.have=0,t.mode=Aa;case Aa:for(;t.have<t.ncode;){for(;d<3;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}t.lens[Ce[t.have++]]=l&7,l>>>=3,d-=3}for(;t.have<19;)t.lens[Ce[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,j={bits:t.lenbits},P=ii(hd,t.lens,0,19,t.lencode,0,t.work,j),t.lenbits=j.bits,P){e.msg="invalid code lengths set",t.mode=V;break}t.have=0,t.mode=Fa;case Fa:for(;t.have<t.nlen+t.ndist;){for(;D=t.lencode[l&(1<<t.lenbits)-1],k=D>>>24,z=D>>>16&255,N=D&65535,!(k<=d);){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(N<16)l>>>=k,d-=k,t.lens[t.have++]=N;else{if(N===16){for(E=k+2;d<E;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(l>>>=k,d-=k,t.have===0){e.msg="invalid bit length repeat",t.mode=V;break}O=t.lens[t.have-1],f=3+(l&3),l>>>=2,d-=2}else if(N===17){for(E=k+3;d<E;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}l>>>=k,d-=k,O=0,f=3+(l&7),l>>>=3,d-=3}else{for(E=k+7;d<E;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}l>>>=k,d-=k,O=0,f=11+(l&127),l>>>=7,d-=7}if(t.have+f>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=V;break}for(;f--;)t.lens[t.have++]=O}}if(t.mode===V)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=V;break}if(t.lenbits=9,j={bits:t.lenbits},P=ii(ja,t.lens,0,t.nlen,t.lencode,0,t.work,j),t.lenbits=j.bits,P){e.msg="invalid literal/lengths set",t.mode=V;break}if(t.distbits=6,t.distcode=t.distdyn,j={bits:t.distbits},P=ii(qa,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,j),t.distbits=j.bits,P){e.msg="invalid distances set",t.mode=V;break}if(t.mode=Ui,n===Vi)break e;case Ui:t.mode=ji;case ji:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,t.hold=l,t.bits=d,cd(e,u),a=e.next_out,o=e.output,c=e.avail_out,r=e.next_in,i=e.input,s=e.avail_in,l=t.hold,d=t.bits,t.mode===Ge&&(t.back=-1);break}for(t.back=0;D=t.lencode[l&(1<<t.lenbits)-1],k=D>>>24,z=D>>>16&255,N=D&65535,!(k<=d);){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(z&&(z&240)===0){for(M=k,v=z,L=N;D=t.lencode[L+((l&(1<<M+v)-1)>>M)],k=D>>>24,z=D>>>16&255,N=D&65535,!(M+k<=d);){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}l>>>=M,d-=M,t.back+=M}if(l>>>=k,d-=k,t.back+=k,t.length=N,z===0){t.mode=Ha;break}if(z&32){t.back=-1,t.mode=Ge;break}if(z&64){e.msg="invalid literal/length code",t.mode=V;break}t.extra=z&15,t.mode=Na;case Na:if(t.extra){for(E=t.extra;d<E;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=La;case La:for(;D=t.distcode[l&(1<<t.distbits)-1],k=D>>>24,z=D>>>16&255,N=D&65535,!(k<=d);){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if((z&240)===0){for(M=k,v=z,L=N;D=t.distcode[L+((l&(1<<M+v)-1)>>M)],k=D>>>24,z=D>>>16&255,N=D&65535,!(M+k<=d);){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}l>>>=M,d-=M,t.back+=M}if(l>>>=k,d-=k,t.back+=k,z&64){e.msg="invalid distance code",t.mode=V;break}t.offset=N,t.extra=z&15,t.mode=za;case za:if(t.extra){for(E=t.extra;d<E;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=V;break}t.mode=Ba;case Ba:if(c===0)break e;if(f=u-c,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=V;break}f>t.wnext?(f-=t.wnext,S=t.wsize-f):S=t.wnext-f,f>t.length&&(f=t.length),y=t.window}else y=o,S=a-t.offset,f=t.length;f>c&&(f=c),c-=f,t.length-=f;do o[a++]=y[S++];while(--f);t.length===0&&(t.mode=ji);break;case Ha:if(c===0)break e;o[a++]=t.length,c--,t.mode=ji;break;case Hn:if(t.wrap){for(;d<32;){if(s===0)break e;s--,l|=i[r++]<<d,d+=8}if(u-=c,e.total_out+=u,t.total+=u,u&&(e.adler=t.check=t.flags?Le(t.check,o,u,a-u):Vn(t.check,o,u,a-u)),u=c,(t.flags?l:Va(l))!==t.check){e.msg="incorrect data check",t.mode=V;break}l=0,d=0}t.mode=Ga;case Ga:if(t.wrap&&t.flags){for(;d<32;){if(s===0)break e;s--,l+=i[r++]<<d,d+=8}if(l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=V;break}l=0,d=0}t.mode=Za;case Za:P=_d;break e;case V:P=Wa;break e;case jn:return Un;case md:default:return we}return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=s,t.hold=l,t.bits=d,(t.wsize||u!==e.avail_out&&t.mode<V&&(t.mode<Hn||n!==wa))&&Ja(e,e.output,e.next_out,u-e.avail_out)?(t.mode=jn,Un):(x-=e.avail_in,u-=e.avail_out,e.total_in+=x,e.total_out+=u,t.total+=u,t.wrap&&u&&(e.adler=t.check=t.flags?Le(t.check,o,u,e.next_out-u):Vn(t.check,o,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ge?128:0)+(t.mode===Ui||t.mode===Bn?256:0),(x===0&&u===0||n===wa)&&P===ct&&(P=ud),P)}function Sd(e){if(!e||!e.state)return we;var n=e.state;return n.window&&(n.window=null),e.state=null,ct}function kd(e,n){var t;return!e||!e.state||(t=e.state,(t.wrap&2)===0)?we:(t.head=n,n.done=!1,ct)}function Pd(e,n){var t=n.length,i,o,r;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==qi)?we:i.mode===qi&&(o=1,o=Vn(o,n,t,0),o!==i.check)?Wa:(r=Ja(e,n,t,t),r?(i.mode=jn,Un):(i.havedict=1,ct))}De.inflateReset=$a;De.inflateReset2=Xa;De.inflateResetKeep=Ya;De.inflateInit=xd;De.inflateInit2=Qa;De.inflate=Dd;De.inflateEnd=Sd;De.inflateGetHeader=kd;De.inflateSetDictionary=Pd;De.inflateInfo="pako inflate (from Nodeca project)"});var qn=ee((pp,ts)=>{"use strict";ts.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var ns=ee((_p,is)=>{"use strict";function Ed(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}is.exports=Ed});var rs=ee(oi=>{"use strict";var Et=es(),ni=ze(),Wi=Rn(),q=qn(),Wn=Ai(),Md=On(),Td=ns(),os=Object.prototype.toString;function ht(e){if(!(this instanceof ht))return new ht(e);this.options=ni.assign({chunkSize:16384,windowBits:0,to:""},e||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Md,this.strm.avail_out=0;var t=Et.inflateInit2(this.strm,n.windowBits);if(t!==q.Z_OK)throw new Error(Wn[t]);if(this.header=new Td,Et.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Wi.string2buf(n.dictionary):os.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Et.inflateSetDictionary(this.strm,n.dictionary),t!==q.Z_OK)))throw new Error(Wn[t])}ht.prototype.push=function(e,n){var t=this.strm,i=this.options.chunkSize,o=this.options.dictionary,r,a,s,c,l,d=!1;if(this.ended)return!1;a=n===~~n?n:n===!0?q.Z_FINISH:q.Z_NO_FLUSH,typeof e=="string"?t.input=Wi.binstring2buf(e):os.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new ni.Buf8(i),t.next_out=0,t.avail_out=i),r=Et.inflate(t,q.Z_NO_FLUSH),r===q.Z_NEED_DICT&&o&&(r=Et.inflateSetDictionary(this.strm,o)),r===q.Z_BUF_ERROR&&d===!0&&(r=q.Z_OK,d=!1),r!==q.Z_STREAM_END&&r!==q.Z_OK)return this.onEnd(r),this.ended=!0,!1;t.next_out&&(t.avail_out===0||r===q.Z_STREAM_END||t.avail_in===0&&(a===q.Z_FINISH||a===q.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=Wi.utf8border(t.output,t.next_out),c=t.next_out-s,l=Wi.buf2string(t.output,s),t.next_out=c,t.avail_out=i-c,c&&ni.arraySet(t.output,t.output,s,c,0),this.onData(l)):this.onData(ni.shrinkBuf(t.output,t.next_out))),t.avail_in===0&&t.avail_out===0&&(d=!0)}while((t.avail_in>0||t.avail_out===0)&&r!==q.Z_STREAM_END);return r===q.Z_STREAM_END&&(a=q.Z_FINISH),a===q.Z_FINISH?(r=Et.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===q.Z_OK):(a===q.Z_SYNC_FLUSH&&(this.onEnd(q.Z_OK),t.avail_out=0),!0)};ht.prototype.onData=function(e){this.chunks.push(e)};ht.prototype.onEnd=function(e){e===q.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ni.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Kn(e,n){var t=new ht(n);if(t.push(e,!0),t.err)throw t.msg||Wn[t.err];return t.result}function Rd(e,n){return n=n||{},n.raw=!0,Kn(e,n)}oi.Inflate=ht;oi.inflate=Kn;oi.inflateRaw=Rd;oi.ungzip=Kn});var ls=ee((up,ss)=>{"use strict";var Od=ze().assign,Id=ca(),Ad=rs(),Fd=qn(),as={};Od(as,Id,Ad,Fd);ss.exports=as});var jo=(()=>{class e{store;rowId=Q.required();colId=Q.required();guid=B(()=>`${this.rowId()}.${this.colId()}`);create(){this.store.dispatch(xo.openChooseTilePopup({row:this.rowId(),column:this.colId()}))}constructor(t){this.store=t}static \u0275fac=function(i){return new(i||e)(H(ue))};static \u0275cmp=T({type:e,selectors:[["app-cell"]],inputs:{rowId:[1,"rowId"],colId:[1,"colId"]},decls:4,vars:1,consts:[[1,"cell",3,"id"],[1,"addTile",3,"click"],[1,"fa-solid","fa-plus"],["src","./assets/map-editor/hex-single-white.png","alt","cell"]],template:function(i,o){i&1&&(h(0,"div",0)(1,"button",1),w("click",function(){return o.create()}),C(2,"i",2),p(),C(3,"img",3),p()),i&2&&m("id",o.guid())},dependencies:[A],styles:[".addTile[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,100% 26%,100% 75%,50% 100%,0% 75%,0% 25%);height:100px;width:86px;position:absolute;top:0;z-index:1;cursor:pointer;transition:opacity .2s;opacity:.15;background-color:transparent;border:none;border-radius:2px;font-size:25px;color:#fff}.cell[_ngcontent-%COMP%]{width:86px;height:100px;margin-left:0;margin-right:0;position:relative}.cell[_ngcontent-%COMP%]:hover   .addTile[_ngcontent-%COMP%]{opacity:1}img[_ngcontent-%COMP%]{width:86px;height:100px;opacity:.3;transition:opacity .2s}.cellNr[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:.5}.cellNr.blocked[_ngcontent-%COMP%]{background-color:#ff00004d;clip-path:polygon(50% 0%,100% 26%,100% 75%,50% 100%,0% 75%,0% 25%);pointer-events:none}.cellNr.connected[_ngcontent-%COMP%]{background-color:#00ff004d;clip-path:polygon(50% 0%,100% 26%,100% 75%,50% 100%,0% 75%,0% 25%);pointer-events:none}"]})}return e})();function ms(e,n){if(e&1&&(h(0,"div",2),C(1,"app-cell",3),p()),e&2){let t=n.$implicit,i=Z().$implicit;_(),m("rowId",i)("colId",t)}}function gs(e,n){if(e&1&&(h(0,"div",1),se(1,ms,2,2,"div",2,ae),p()),e&2){let t=Z();_(),le(t.columns())}}var qo=(()=>{class e{signalStore=g(de);rows;columns;constructor(){this.rows=B(()=>Array(this.signalStore.grid.rows()).fill(0).map((t,i)=>i)),this.columns=B(()=>Array(this.signalStore.grid.columns()).fill(0).map((t,i)=>i))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["feature-grid"]],decls:3,vars:0,consts:[["id","grid",1,"grid"],[1,"row"],[1,"column"],[3,"rowId","colId"]],template:function(i,o){i&1&&(h(0,"div",0),se(1,gs,3,0,"div",1,ae),p()),i&2&&(_(),le(o.rows()))},dependencies:[A,jo],styles:["[_nghost-%COMP%]{display:block;position:relative;max-height:100vh;height:100vh}.grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:#fff;z-index:0}.grid[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(odd of.row){margin-left:-43px}.row[_ngcontent-%COMP%]{display:flex;margin-bottom:-26px}"]})}return e})();function lr(e){let n=e.cloneNode(!0),t=n.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return i==="canvas"?Yo(e,n):(i==="input"||i==="select"||i==="textarea")&&Ko(e,n),Wo("canvas",e,n,Yo),Wo("input, textarea, select",e,n,Ko),n}function Wo(e,n,t,i){let o=n.querySelectorAll(e);if(o.length){let r=t.querySelectorAll(e);for(let a=0;a<o.length;a++)i(o[a],r[a])}}var vs=0;function Ko(e,n){n.type!=="file"&&(n.value=e.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${vs++}`)}function Yo(e,n){let t=n.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}function cn(e){let n=e.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function on(e,n,t){let{top:i,bottom:o,left:r,right:a}=e;return t>=i&&t<=o&&n>=r&&n<=a}function Zt(e,n,t){e.top+=n,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function $o(e,n,t,i){let{top:o,right:r,bottom:a,left:s,width:c,height:l}=e,d=c*n,x=l*n;return i>o-x&&i<a+x&&t>s-d&&t<r+d}var Di=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:cn(t)})})}handleScroll(n){let t=Nt(n),i=this.positions.get(t);if(!i)return null;let o=i.scrollPosition,r,a;if(t===this._document){let l=this.getViewportScrollPosition();r=l.top,a=l.left}else r=t.scrollTop,a=t.scrollLeft;let s=o.top-r,c=o.left-a;return this.positions.forEach((l,d)=>{l.clientRect&&t!==d&&t.contains(d)&&Zt(l.clientRect,s,c)}),o.top=r,o.left=a,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function dr(e,n){let t=e.rootNodes;if(t.length===1&&t[0].nodeType===n.ELEMENT_NODE)return t[0];let i=n.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function hn(e,n,t){for(let i in n)if(n.hasOwnProperty(i)){let o=n[i];o?e.setProperty(i,o,t?.has(i)?"important":""):e.removeProperty(i)}return e}function gt(e,n){let t=n?"":"none";hn(e.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Xo(e,n,t){hn(e.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function Si(e,n){return n&&n!="none"?e+" "+n:e}function Qo(e,n){e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.style.transform=ki(n.left,n.top)}function ki(e,n){return`translate3d(${Math.round(e)}px, ${Math.round(n)}px, 0)`}function Jo(e){let n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function bs(e){let n=getComputedStyle(e),t=tn(n,"transition-property"),i=t.find(s=>s==="transform"||s==="all");if(!i)return 0;let o=t.indexOf(i),r=tn(n,"transition-duration"),a=tn(n,"transition-delay");return Jo(r[o])+Jo(a[o])}function tn(e,n){return e.getPropertyValue(n).split(",").map(i=>i.trim())}var ws=new Set(["position"]),rn=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,t,i,o,r,a,s,c,l,d){this._document=n,this._rootElement=t,this._direction=i,this._initialDomRect=o,this._previewTemplate=r,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=c,this._zIndex=l,this._renderer=d}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),er(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return bs(this._preview)}addEventListener(n,t){return this._renderer.listen(this._preview,n,t)}_createPreview(){let n=this._previewTemplate,t=this._previewClass,i=n?n.template:null,o;if(i&&n){let r=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),o=dr(a,this._document),this._previewEmbeddedView=a,n.matchSize?Qo(o,r):o.style.transform=ki(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=lr(this._rootElement),Qo(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return hn(o.style,{"pointer-events":"none",margin:er(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ws),gt(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(r=>o.classList.add(r)):o.classList.add(t)),o}};function er(e){return"showPopover"in e}var Cs={passive:!0},tr={passive:!1},xs={passive:!1,capture:!0},ys=800,ir=new Set(["position"]),an=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=U(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new G;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=pt.EMPTY;_pointerUpSubscription=pt.EMPTY;_scrollSubscription=pt.EMPTY;_resizeSubscription=pt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(t=>gt(t,n)))}_disabled=!1;beforeStarted=new G;started=new G;released=new G;ended=new G;entered=new G;exited=new G;dropped=new G;moved=this._moveEvents;data;constrainPosition;constructor(n,t,i,o,r,a,s){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new Di(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>Ve(i)),this._handles.forEach(i=>gt(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let t=Ve(n);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[Ue(this._renderer,t,"mousedown",this._pointerDown,tr),Ue(this._renderer,t,"touchstart",this._pointerDown,Cs),Ue(this._renderer,t,"dragstart",this._nativeDragStart,tr)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Ve(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),gt(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),gt(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let t=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let o=Math.abs(t.x-this._pickupPositionOnPage.x),r=Math.abs(t.y-this._pickupPositionOnPage.y);if(o+r>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),c=this._dropContainer;if(!s){this._endDragSequence(n);return}(!c||!c.isDragging()&&!c.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{let o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=i.x-o.x+this._passiveTransform.x,r.y=i.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:n,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Ht(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=Ue(this._renderer,t,"selectstart",Ds,xs)}),i){let o=this._rootElement,r=o.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(s,o),this._initialTransform=o.style.transform||"",this._preview=new rn(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,t)),Xo(o,!1,ir),this._document.body.appendChild(r.replaceChild(a,o)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),o=Ht(t),r=!o&&t.button!==0,a=this._rootElement,s=Nt(t),c=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+ys>Date.now(),l=o?So(t):Do(t);if(s&&s.draggable&&t.type==="mousedown"&&t.preventDefault(),i||r||c||l)return;if(this._handles.length){let u=a.style;this._rootElementTapHighlight=u.webkitTapHighlightColor||"",u.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>this._updateOnScroll(u)),this._boundaryElement&&(this._boundaryRect=cn(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,t);let x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){Xo(this._rootElement,!0,ir),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(n),r=this._getDragDistance(o),a=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:r,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:o,event:n}),t.drop(this,i,this._initialIndex,this._initialContainer,a,r,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:i,y:o}){let r=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,n,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let o=s=>{(!s||this._preview&&Nt(s)===this._preview.element&&s.propertyName==="transform")&&(a(),i(),clearTimeout(r))},r=setTimeout(o,t*1.5),a=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,t=n?n.template:null,i;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),i=dr(this._placeholderRef,this._document)):i=lr(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,t,i){let o=t===this._rootElement?null:t,r=o?o.getBoundingClientRect():n,a=Ht(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),c=a.pageX-r.left-s.left,l=a.pageY-r.top-s.top;return{x:r.left-n.left+c,y:r.top-n.top+l}}_getPointerPositionOnPage(n){let t=this._getViewportScrollPosition(),i=Ht(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=i.pageX-t.left,r=i.pageY-t.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=o,s.y=r,s.matrixTransform(a.inverse())}}return{x:o,y:r}}_getConstrainedPointerPosition(n){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||t==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),d=s.top+a,x=s.bottom-(l-a),u=s.left+r,f=s.right-(c-r);i=nr(i,u,f),o=nr(o,d,x)}return{x:i,y:o}}_updatePointerDirectionDelta(n){let{x:t,y:i}=n,o=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-r.x),s=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(o.x=t>r.x?1:-1,r.x=t),s>this._config.pointerDirectionChangeThreshold&&(o.y=i>r.y?1:-1,r.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,gt(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,t){let i=1/this.scale,o=ki(n*i,t*i),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=Si(o,this._initialTransform)}_applyPreviewTransform(n,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,o=ki(n,t);this._preview.setTransform(Si(o,i))}_getDragDistance(n){let t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(n===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||i.width===0&&i.height===0)return;let r=o.left-i.left,a=i.right-o.right,s=o.top-i.top,c=i.bottom-o.bottom;o.width>i.width?(r>0&&(n+=r),a>0&&(n-=a)):n=0,o.height>i.height?(s>0&&(t+=s),c>0&&(t-=c)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){let t=this.dragStartDelay;return typeof t=="number"?t:Ht(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){let t=this._parentPositions.handleScroll(n);if(t){let i=Nt(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Zt(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=gi(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){let i=this._previewContainer||"global";if(i==="parent")return n;if(i==="global"){let o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Ve(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}};function nr(e,n,t){return Math.max(n,Math.min(t,e))}function Ht(e){return e.type[0]==="t"}function Ds(e){e.preventDefault()}function cr(e,n,t){let i=or(n,e.length-1),o=or(t,e.length-1);if(i===o)return;let r=e[i],a=o<i?-1:1;for(let s=i;s!==o;s+=a)e[s]=e[s+a];e[o]=r}function or(e,n){return Math.max(0,Math.min(n,e))}var Pi=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,t,i,o){let r=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,t,i,o);if(a===-1&&r.length>0)return null;let s=this.orientation==="horizontal",c=r.findIndex(D=>D.drag===n),l=r[a],d=r[c].clientRect,x=l.clientRect,u=c>a?1:-1,f=this._getItemOffsetPx(d,x,u),S=this._getSiblingOffsetPx(c,r,u),y=r.slice();return cr(r,c,a),r.forEach((D,k)=>{if(y[k]===D)return;let z=D.drag===n,N=z?f:S,M=z?n.getPlaceholderElement():D.drag.getRootElement();D.offset+=N;let v=Math.round(D.offset*(1/D.drag.scale));s?(M.style.transform=Si(`translate3d(${v}px, 0, 0)`,D.initialTransform),Zt(D.clientRect,0,N)):(M.style.transform=Si(`translate3d(0, ${v}px, 0)`,D.initialTransform),Zt(D.clientRect,N,0))}),this._previousSwap.overlaps=on(x,t,i),this._previousSwap.drag=l.drag,this._previousSwap.delta=s?o.x:o.y,{previousIndex:c,currentIndex:a}}enter(n,t,i,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(n,t,i):o,a=this._activeDraggables,s=a.indexOf(n),c=n.getPlaceholderElement(),l=a[r];if(l===n&&(l=a[r+1]),!l&&(r==null||r===-1||r<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(l=a[0]),s>-1&&a.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){let d=l.getRootElement();d.parentElement.insertBefore(c,d),a.splice(r,0,n)}else this._element.appendChild(c),a.push(n);c.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let t=n.getRootElement();if(t){let i=this._itemPositions.find(o=>o.drag===n)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:i})=>{Zt(i,n,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:cn(i)}}).sort((t,i)=>n?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,t,i){let o=this.orientation==="horizontal",r=o?t.left-n.left:t.top-n.top;return i===-1&&(r+=o?t.width-n.width:t.height-n.height),r}_getSiblingOffsetPx(n,t,i){let o=this.orientation==="horizontal",r=t[n].clientRect,a=t[n+i*-1],s=r[o?"width":"height"]*i;if(a){let c=o?"left":"top",l=o?"right":"bottom";i===-1?s-=a.clientRect[c]-r[l]:s+=r[c]-a.clientRect[l]}return s}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,o=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let a=i[i.length-1].clientRect;return o?n>=a.right:t>=a.bottom}else{let a=i[0].clientRect;return o?n<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(n,t,i,o){let r=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:c})=>{if(s===n)return!1;if(o){let l=r?o.x:o.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return r?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return a===-1||!this._sortPredicate(a,n)?-1:a}},sn=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,t){this._document=n,this._dragDropRegistry=t}start(n){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let o=t[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(n)}sort(n,t,i,o){let r=this._getItemIndexFromPointerPosition(n,t,i),a=this._previousSwap;if(r===-1||this._activeItems[r]===n)return null;let s=this._activeItems[r];if(a.drag===s&&a.overlaps&&a.deltaX===o.x&&a.deltaY===o.y)return null;let c=this.getItemIndex(n),l=n.getPlaceholderElement(),d=s.getRootElement();r>c?d.after(l):d.before(l),cr(this._activeItems,c,r);let x=this._getRootNode().elementFromPoint(t,i);return a.deltaX=o.x,a.deltaY=o.y,a.drag=s,a.overlaps=d===x||d.contains(x),{previousIndex:c,currentIndex:r}}enter(n,t,i,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(n,t,i):o;r===-1&&(r=this._getClosestItemIndexToPointer(n,t,i));let a=this._activeItems[r],s=this._activeItems.indexOf(n);s>-1&&this._activeItems.splice(s,1),a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(r,0,n),a.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[o,r]=this._relatedNodes[i];o.parentNode===n&&o.nextSibling!==r&&(r===null?n.appendChild(o):r.parentNode===n&&n.insertBefore(o,r))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,t,i){let o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),r=o?this._activeItems.findIndex(a=>{let s=a.getRootElement();return o===s||s.contains(o)}):-1;return r===-1||!this._sortPredicate(r,n)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=gi(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,r=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==n){let{x:c,y:l}=s.getRootElement().getBoundingClientRect(),d=Math.hypot(t-c,i-l);d<o&&(o=d,r=a)}}return r}},rr=.05,hr=.05,ge=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(ge||{}),te=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(te||{}),ln=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new G;entered=new G;exited=new G;dropped=new G;sorted=new G;receivingStarted=new G;receivingStopped=new G;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=pt.EMPTY;_verticalScrollDirection=ge.NONE;_horizontalScrollDirection=te.NONE;_scrollNode;_stopScrollTimers=new G;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,t,i,o,r){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=r;let a=this.element=Ve(n);this._document=i,this.withOrientation("vertical").withElementContainer(a),t.registerDropContainer(this),this._parentPositions=new Di(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,i,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,i,o,r,a,s,c={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:r,distance:a,dropPoint:s,event:c})}withItems(n){let t=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>n.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof Pi&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new sn(this._document,this._dragDropRegistry);else{let t=new Pi(this._dragDropRegistry);t.direction=this._direction,t.orientation=n,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(n){let t=this._container;return this._scrollableElements=n.indexOf(t)===-1?[t,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let t=Ve(this.element),i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(n);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,i,o){if(this.sortingDisabled||!this._domRect||!$o(this._domRect,rr,t,i))return;let r=this._sortStrategy.sort(n,t,i,o);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let i,o=ge.NONE,r=te.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||i||$o(a.clientRect,rr,n,t)&&([o,r]=Ss(s,a.clientRect,this._direction,n,t),(o||r)&&(i=s))}),!o&&!r){let{width:a,height:s}=this._viewportRuler.getViewportSize(),c={width:a,height:s,top:0,right:a,bottom:s,left:0};o=pr(c,t),r=_r(c,n),i=window}i&&(o!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=r,this._scrollNode=i,(o||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),oo(0,io).pipe(di(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===ge.UP?n.scrollBy(0,-t):this._verticalScrollDirection===ge.DOWN&&n.scrollBy(0,t),this._horizontalScrollDirection===te.LEFT?n.scrollBy(-t,0):this._horizontalScrollDirection===te.RIGHT&&n.scrollBy(t,0)})};_isOverContainer(n,t){return this._domRect!=null&&on(this._domRect,n,t)}_getSiblingContainerFromPosition(n,t,i){return this._siblings.find(o=>o._canReceive(n,t,i))}_canReceive(n,t,i){if(!this._domRect||!on(this._domRect,t,i)||!this.enterPredicate(n,this))return!1;let o=this._getShadowRoot().elementFromPoint(t,i);return o?o===this._container||this._container.contains(o):!1}_startReceiving(n,t){let i=this._activeSiblings;!i.has(n)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=gi(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}};function pr(e,n){let{top:t,bottom:i,height:o}=e,r=o*hr;return n>=t-r&&n<=t+r?ge.UP:n>=i-r&&n<=i+r?ge.DOWN:ge.NONE}function _r(e,n){let{left:t,right:i,width:o}=e,r=o*hr;return n>=t-r&&n<=t+r?te.LEFT:n>=i-r&&n<=i+r?te.RIGHT:te.NONE}function Ss(e,n,t,i,o){let r=pr(n,o),a=_r(n,i),s=ge.NONE,c=te.NONE;if(r){let l=e.scrollTop;r===ge.UP?l>0&&(s=ge.UP):e.scrollHeight-l>e.clientHeight&&(s=ge.DOWN)}if(a){let l=e.scrollLeft;t==="rtl"?a===te.RIGHT?l<0&&(c=te.RIGHT):e.scrollWidth+l>e.clientWidth&&(c=te.LEFT):a===te.LEFT?l>0&&(c=te.LEFT):e.scrollWidth-l>e.clientWidth&&(c=te.RIGHT)}return[s,c]}var Gt={capture:!0},nn={passive:!1,capture:!0},ks=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return e})(),pn=(()=>{class e{_ngZone=g(Ze);_document=g(Ft);_styleLoader=g(vi);_renderer=g(Qi).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=U([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new G;pointerUp=new G;scroll=new G;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=Ue(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,nn)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(ks),this._activeDragInstances.update(o=>[...o,t]),this._activeDragInstances().length===1)){let o=i.type.startsWith("touch"),r=s=>this.pointerUp.next(s),a=[["scroll",s=>this.scroll.next(s),Gt],["selectstart",this._preventDefaultWhileDragging,nn]];o?a.push(["touchend",r,Gt],["touchcancel",r,Gt]):a.push(["mouseup",r,Gt]),o||a.push(["mousemove",s=>this.pointerMove.next(s),nn]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,c,l])=>Ue(this._renderer,this._document,s,c,l))})}}stopDragging(t){this._activeDragInstances.update(i=>{let o=i.indexOf(t);return o>-1?(i.splice(o,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this.scroll];return t&&t!==this._document&&i.push(new $i(o=>this._ngZone.runOutsideAngular(()=>{let r=Ue(this._renderer,t,"scroll",a=>{this._activeDragInstances().length&&o.next(a)},Gt);return()=>{r()}}))),Xi(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ps={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Es=(()=>{class e{_document=g(Ft);_ngZone=g(Ze);_viewportRuler=g(Eo);_dragDropRegistry=g(pn);_renderer=g(Qi).createRenderer(null,null);constructor(){}createDrag(t,i=Ps){return new an(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new ln(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dn=new Se("CDK_DRAG_PARENT");var fr=new Se("CdkDragHandle"),ur=(()=>{class e{element=g(_t);_parentDrag=g(dn,{optional:!0,skipSelf:!0});_dragDropRegistry=g(pn);_stateChanges=new G;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=it({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",fe]},features:[Ot([{provide:fr,useExisting:e}])]})}return e})(),Ms=new Se("CDK_DRAG_CONFIG"),Ts=new Se("CdkDropList"),mr=(()=>{class e{element=g(_t);dropContainer=g(Ts,{optional:!0,skipSelf:!0});_ngZone=g(Ze);_viewContainerRef=g(uo);_dir=g(Po,{optional:!0});_changeDetectorRef=g(It);_selfHandle=g(fr,{optional:!0,self:!0});_parentDrag=g(dn,{optional:!0,skipSelf:!0});_dragDropRegistry=g(pn);_destroyed=new G;_handles=new to([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new re;released=new re;ended=new re;entered=new re;exited=new re;dropped=new re;moved=new $i(t=>{let i=this._dragRef.moved.pipe(no(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=g(hi);constructor(){let t=this.dropContainer,i=g(Ms,{optional:!0}),o=g(Es);this._dragRef=o.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(di(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){pi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),o=i.indexOf(t);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):Ve(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,o=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof o=="object"&&o?o:ko(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(ro(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){t.withParent(o._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:o,constrainPosition:r,previewClass:a,boundaryElement:s,draggingDisabled:c,rootElementSelector:l,previewContainer:d}=t;this.disabled=c??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),s&&(this.boundaryElement=s),l&&(this.rootElementSelector=l),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(lo(t=>{let i=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),so(t=>Xi(...t.map(i=>i._stateChanges.pipe(ao(i))))),di(this._destroyed)).subscribe(t=>{let i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=it({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&Mt("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",fe],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",At]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ot([{provide:dn,useExisting:e}]),ho]})}return e})();function Rs(e,n){if(e&1&&(h(0,"div",0)(1,"div"),C(2,"i",1),p()()),e&2){let t=Z();_(),mo(t.cubeClass())}}var Ei=(()=>{class e{id=Q.required();cubeClass=B(()=>"color-"+this.id());static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["app-cube"]],inputs:{id:[1,"id"]},decls:1,vars:1,consts:[[1,"cube"],[1,"fa-solid","fa-cube"]],template:function(i,o){i&1&&Y(0,Rs,3,2,"div",0),i&2&&he(o.id()?0:-1)},dependencies:[A],styles:["i[_ngcontent-%COMP%]{font-size:20px}.color-0[_ngcontent-%COMP%]{display:none}.color-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;filter:drop-shadow(0px 0px 2px #ffffff)}.color-2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--necropolis)}.color-3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--castle);filter:drop-shadow(0px 0px 2px #000000)}.color-4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dungeon);filter:drop-shadow(0px 0px 2px #fff)}.color-5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--tower);filter:drop-shadow(0px 0px 2px #000)}.color-6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--rampart);filter:drop-shadow(0px 0px 4px #fff)}.color-7[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fortress);filter:drop-shadow(0px 0px 4px #fff)}.color-8[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--inferno);filter:drop-shadow(0px 0px 4px #fff)}.color-9[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--stronghold);filter:drop-shadow(0px 0px 4px #fff)}.color-10[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--conflux);filter:drop-shadow(0px 0px 4px #fff)}.color-11[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--cove);filter:drop-shadow(0px 0px 4px #fff)}"]})}return e})();function Os(e,n){if(e&1&&C(0,"img",1),e&2){let t=Z();ke("src",t.image(),ft)}}var Mi=(()=>{class e{configService=g(me);id=Q.required();image=B(()=>this.configService.PORTRAITS()[this.id()]?.image??"");static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["app-portrait"]],inputs:{id:[1,"id"]},decls:1,vars:1,consts:[["alt","",3,"src",4,"ngIf"],["alt","",3,"src"]],template:function(i,o){i&1&&Y(0,Os,1,1,"img",0),i&2&&m("ngIf",o.image())},dependencies:[A,Co],styles:["[_nghost-%COMP%]{width:50px;height:50px;border-radius:50%}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:3px solid #e8cfa4;filter:drop-shadow(0px 0px 3px #000000)}"]})}return e})();var Ti=(()=>{class e{label=Q.required();checked=Q(!1);checkedChange=new re;onChange(t){this.checkedChange.emit(t.checked)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["homm-checkbox"]],inputs:{label:[1,"label"],checked:[1,"checked"]},outputs:{checkedChange:"checkedChange"},decls:2,vars:3,consts:[[3,"change","checked"]],template:function(i,o){i&1&&(h(0,"mat-checkbox",0),w("change",function(a){return o.onChange(a)}),b(1),p()),i&2&&(m("checked",o.checked()),ut("aria-label",o.label()),_(),Rt(" ",o.label(),`
`))},dependencies:[A,yi],styles:["mat-checkbox[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]     .mdc-checkbox__background{background:transparent!important;border:2px solid #0c0800!important;border-top-color:#a7a29a!important;border-left-color:#2b4289!important}[_nghost-%COMP%]     .mdc-checkbox__background svg{color:var(--primary)!important}  .mdc-form-field>label{margin-left:-7px!important;color:var(--primary)}"]})}return e})();function Is(e,n){e&1&&(h(0,"div",0),C(1,"img",1),p())}var Ri=(()=>{class e{visible=Q.required();static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["app-blocked-hex"]],inputs:{visible:[1,"visible"]},decls:1,vars:1,consts:[[1,"blocked-hex"],["src","./assets/map-editor/blocked.png","alt","Blocked Hex"]],template:function(i,o){i&1&&Y(0,Is,2,0,"div",0),i&2&&he(o.visible()?0:-1)},dependencies:[A],styles:[".blocked-hex[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%}"]})}return e})();function As(e,n){if(e&1&&(h(0,"option",8),b(1),p()),e&2){let t=n.$implicit;m("value",t.value),_(),Pe(t.name)}}function Fs(e,n){if(e&1&&(h(0,"optgroup",11),Y(1,As,2,2,"option",12),p()),e&2){let t=n.$implicit,i=Z();ke("label",i.getFactionDesc(t)),_(),m("ngForOf",i.getHeroesByFaction(t))}}function Ns(e,n){if(e&1&&(h(0,"option",8),b(1),p()),e&2){let t=n.$implicit;m("value",t.value),_(),Pe(t.name)}}var gr=(()=>{class e{configService=g(me);signalStore=g(de);tileData=U({});tileGuid=Q.required();index=Q.required();destroyed$=new G;factions=U([]);selectedHero=U("");heroes=U([{value:"0",name:"- No Hero -",faction:"NONE"}]);blockedHex;selectedCube=U(0);cubes=U([{value:"0",name:"- No Cube -"},{value:"1",name:"Black cube"},{value:"2",name:"Necropolis cube"},{value:"3",name:"Castle cube"},{value:"4",name:"Dungeon cube"},{value:"5",name:"Tower cube"},{value:"6",name:"Rampart cube"},{value:"7",name:"Fortress cube"},{value:"8",name:"Inferno cube"},{value:"9",name:"Stronghold cube"},{value:"10",name:"Conflux cube"},{value:"11",name:"Cove cube"}]);constructor(){this.factions.set(Object.keys(this.configService.FACTIONS())),this.createHeroesSelect(),this.blockedHex=B(()=>this.signalStore.selectTileByGuid(this.tileGuid())?.blockedHex?.[this.index()]||!1)}ngOnInit(){let t=this.signalStore.selectTileByGuid(this.tileGuid());this.tileData.set(t),this.selectedCube.set(this.tileData().cubes[this.index()]),this.selectedHero.set(this.tileData().hero[this.index()])}createHeroesSelect(){let t=Object.entries(this.configService.PORTRAITS()).sort((i,o)=>{let r=i[1].faction,a=o[1].faction;return r<a?-1:r>a?1:0}).map(([i,o])=>({value:i,name:o.desc,faction:o.faction}));t.unshift({value:"0",name:"- No Hero -",faction:"NONE"}),this.heroes.set(t)}selectCube(t){let i=parseInt(t),o=this.signalStore.selectTileByGuid(this.tileGuid());this.signalStore.updateTile(_e(oe({},o),{cubes:o.cubes.map((r,a)=>a===this.index()?i:r)}))}selectHero(t){let i=this.signalStore.selectTileByGuid(this.tileGuid());this.signalStore.updateTile(_e(oe({},i),{hero:i.hero.map((o,r)=>r===this.index()?t:o)}))}setBlockedState(t){let i=this.signalStore.selectTileByGuid(this.tileGuid());this.signalStore.updateTile(_e(oe({},i),{blockedHex:i.blockedHex.map((o,r)=>r===this.index()?t:o)}))}getFactionDesc(t){return this.configService.FACTIONS()[t]}getHeroesByFaction(t){return this.heroes().filter(i=>{if(i.faction===t)return i})}ngOnDestroy(){this.destroyed$.next(1),this.destroyed$.complete()}signal=U;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["feature-cell-editor"]],inputs:{tileGuid:[1,"tileGuid"],index:[1,"index"]},decls:14,vars:8,consts:[["hero",""],["cube",""],[1,"container"],["label","block hex",3,"checkedChange","checked"],["name","hero",3,"change","ngModelChange","ngModel"],[1,"first",3,"value"],[3,"label",4,"ngFor","ngForOf"],["name","cube",3,"change","ngModelChange","ngModel"],[3,"value"],[3,"id"],[3,"visible"],[3,"label"],[3,"value",4,"ngFor","ngForOf"]],template:function(i,o){if(i&1){let r=xe();h(0,"div",2)(1,"homm-checkbox",3),w("checkedChange",function(s){return $(r),X(o.setBlockedState(s))}),p(),h(2,"select",4,0),w("change",function(){$(r);let s=Tt(3);return X(o.selectHero(s.value))}),Te("ngModelChange",function(s){return $(r),Me(o.selectedHero,s)||(o.selectedHero=s),X(s)}),h(4,"option",5),b(5,"- No Hero -"),p(),Y(6,Fs,2,2,"optgroup",6),p(),h(7,"select",7,1),w("change",function(){$(r);let s=Tt(8);return X(o.selectCube(s.value))}),Te("ngModelChange",function(s){return $(r),Me(o.selectedCube,s)||(o.selectedCube=s),X(s)}),se(9,Ns,2,2,"option",8,ae),p()(),C(11,"app-cube",9)(12,"app-portrait",9)(13,"app-blocked-hex",10)}i&2&&(_(),m("checked",o.blockedHex()),_(),Ee("ngModel",o.selectedHero),_(2),m("value",""),_(2),m("ngForOf",o.factions()),_(),Ee("ngModel",o.selectedCube),_(2),le(o.cubes()),_(2),m("id",o.selectedCube()),_(),m("id",o.selectedHero()),_(),m("visible",o.blockedHex()))},dependencies:[A,wo,Ei,Mi,We,Ci,xi,wi,je,qe,Ti,Ri],styles:["[_nghost-%COMP%]{display:block;position:relative;height:100%}.container[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);position:absolute;padding:37px 10px 5px;z-index:10;opacity:.4;transition:opacity .3s}.container[_ngcontent-%COMP%]:hover{opacity:1}app-cube[_ngcontent-%COMP%]{position:absolute;top:15px;left:55px}select[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;padding:3px}app-portrait[_ngcontent-%COMP%]{position:absolute;left:64.5px;top:74.5px;transform:translate(-50%) translateY(-50%) scale(1.5)}"]})}return e})();var Ls=e=>["town-overlay",e];function zs(e,n){if(e&1&&(h(0,"div",10),ci(),h(1,"svg",15)(2,"metadata"),b(3," Created by potrace 1.10, written by Peter Selinger 2001-2011 "),p(),h(4,"g",16),C(5,"path",17),p()()()),e&2){let t=Z();m("ngClass",ui(1,Ls,t.selectedFaction()))}}function Bs(e,n){if(e&1&&(h(0,"option",20),b(1),p()),e&2){let t=n.$implicit;m("value",t.value),_(),Pe(t.name)}}function Hs(e,n){if(e&1){let t=xe();h(0,"div",13)(1,"div",18),b(2,"Option to select an faction to this random tile"),p(),h(3,"select",19,0),w("change",function(){$(t);let o=Tt(4),r=Z();return X(r.selectFaction(o.value))}),Te("ngModelChange",function(o){$(t);let r=Z();return Me(r.selectedFaction,o)||(r.selectedFaction=o),X(o)}),se(5,Bs,2,2,"option",20,ae),p()()}if(e&2){let t=Z();_(3),Ee("ngModel",t.selectedFaction),_(2),le(t.factionBorder())}}var vr=(()=>{class e{dialogRef;data;configService=g(me);signalStore=g(de);image;desc;suggestedPlacement;selectedFaction=U("");factionBorder=U([{value:"",name:"- none -"},{value:"necropolis",name:"Necropolis"},{value:"castle",name:"Castle"},{value:"dungeon",name:"Dungeon"},{value:"tower",name:"Tower"},{value:"rampart",name:"Rampart"},{value:"fortress",name:"Fortress"},{value:"inferno",name:"Inferno"},{value:"stronghold",name:"Stronghold"},{value:"conflux",name:"Conflux"},{value:"cove",name:"Cove"},{value:"earth",name:"Elemental Earth"},{value:"fire",name:"Elemental Fire"},{value:"water",name:"Elemental Water"},{value:"air",name:"Elemental Air"}]);canHaveFactionBorder=U(!1);constructor(t,i){this.dialogRef=t,this.data=i,this.image=B(()=>{let o=this.configService.TILES()[i.tileId];return o?o.img:"default"}),this.desc=B(()=>this.data.tileId),this.suggestedPlacement=B(()=>this.data.suggestedPlacement?.5:1)}ngOnInit(){this.selectedFaction.set(this.data.faction),this.configService.getTileGroupById(this.data.tileId)=="RANDOM"&&this.canHaveFactionBorder.set(!0)}changeSuggestionState(t){let i=this.signalStore.selectTileByGuid(this.data.id);this.signalStore.updateTile(_e(oe({},i),{suggestedPlacement:t}))}selectFaction(t){let i=this.signalStore.selectTileByGuid(this.data.id);this.signalStore.updateTile(_e(oe({},i),{faction:t}))}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(H(Re),H(To))};static \u0275cmp=T({type:e,selectors:[["feature-edit-tile-dialog"]],decls:30,vars:21,consts:[["faction",""],["title","Edit tile",3,"closeDialog"],[1,"container"],[1,"edit-container"],[1,"ui"],[1,"row"],[1,"cell"],[3,"tileGuid","index"],[1,"tileContainer"],[3,"src","alt"],[3,"ngClass"],[1,"settings"],[1,"title"],[1,"setting"],["label","Placement is a suggestion (fade the tile)",3,"checkedChange","checked"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","300.000000pt","height","290.000000pt","viewBox","0 0 300.000000 290.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,290.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d",`M743 2749 l-243 -141 0 -291 -1 -292 -245 -140 -245 -141 0 -294 0
              -294 108 -62 c59 -35 170 -98 245 -141 l138 -78 0 -291 0 -292 238 -138 c131
              -77 248 -139 262 -139 14 0 128 60 263 138 l237 139 245 -142 c163 -94 252
              -141 264 -137 11 3 126 66 255 142 l236 137 0 294 c0 162 3 294 8 294 4 0 114
              62 245 138 l238 138 0 294 0 294 -153 89 c-84 49 -195 113 -245 143 l-93 55 0
              289 0 289 -42 25 c-24 13 -133 77 -243 141 -127 74 -208 115 -221 112 -11 -2
              -127 -65 -257 -141 l-236 -137 -243 140 c-133 78 -249 141 -258 141 -8 0 -124
              -63 -257 -141z m513 -65 c127 -73 237 -134 244 -134 7 0 119 62 249 137 130
              76 243 137 251 137 8 0 111 -55 228 -123 l212 -123 0 -282 c1 -205 4 -285 13
              -297 7 -9 57 -42 112 -74 55 -32 161 -93 235 -136 l135 -78 3 -260 2 -260 -77
              -44 c-267 -151 -399 -231 -408 -245 -6 -10 -12 -139 -15 -300 l-5 -283 -218
              -125 -217 -125 -173 99 c-94 55 -204 118 -243 141 -39 23 -77 41 -84 41 -7 0
              -122 -63 -256 -141 l-244 -141 -72 42 c-40 24 -139 81 -220 127 l-148 85 0
              284 c0 262 -1 285 -18 302 -10 10 -77 52 -148 93 -71 40 -141 81 -155 89 -14
              8 -60 34 -102 58 l-77 43 0 259 0 259 78 44 c42 24 122 70 177 102 55 32 127
              74 160 92 33 19 66 41 73 50 9 13 12 89 12 299 l0 282 218 126 c120 70 224
              123 232 120 8 -3 119 -66 246 -140z`],[1,"setting-title"],["name","factionBorder",3,"change","ngModelChange","ngModel"],[3,"value"]],template:function(i,o){i&1&&(h(0,"homm-dialog",1),w("closeDialog",function(){return o.close()}),h(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),C(6,"feature-cell-editor",7),p(),h(7,"div",6),C(8,"feature-cell-editor",7),p()(),h(9,"div",5)(10,"div",6),C(11,"feature-cell-editor",7),p(),h(12,"div",6),C(13,"feature-cell-editor",7),p(),h(14,"div",6),C(15,"feature-cell-editor",7),p()(),h(16,"div",5)(17,"div",6),C(18,"feature-cell-editor",7),p(),h(19,"div",6),C(20,"feature-cell-editor",7),p()()(),h(21,"div",8),C(22,"img",9),Y(23,zs,6,3,"div",10),p()(),h(24,"div",11)(25,"div",12),b(26,"Special tile settings"),p(),h(27,"div",13)(28,"homm-checkbox",14),w("checkedChange",function(a){return o.changeSuggestionState(a)}),p()(),Y(29,Hs,7,1,"div",13),p()()()),i&2&&(_(6),m("tileGuid",o.data.id)("index",0),_(2),m("tileGuid",o.data.id)("index",1),_(3),m("tileGuid",o.data.id)("index",2),_(2),m("tileGuid",o.data.id)("index",3),_(2),m("tileGuid",o.data.id)("index",4),_(3),m("tileGuid",o.data.id)("index",5),_(2),m("tileGuid",o.data.id)("index",6),_(2),nt("opacity",o.suggestedPlacement()),ke("src",o.image(),ft),ke("alt",o.desc()),_(),he(o.canHaveFactionBorder()&&o.selectedFaction()!==""?23:-1),_(5),m("checked",o.data.suggestedPlacement),_(),he(o.canHaveFactionBorder()?29:-1))},dependencies:[A,mi,gr,Oe,We,Ci,xi,wi,je,qe,Ti],styles:[".container[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column-reverse}}.edit-container[_ngcontent-%COMP%]{padding:15px}@media (max-width: 768px){.edit-container[_ngcontent-%COMP%]{padding:0;margin-left:-25px}}.tileContainer[_ngcontent-%COMP%]{width:100%;height:100%}.tileContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:374px;width:387px}.ui[_ngcontent-%COMP%]{position:absolute}.ui[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;margin-bottom:-37px}.ui[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(1), .ui[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(3){margin-left:64.5px}.ui[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{width:129px;height:149px}.settings[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.settings[_ngcontent-%COMP%]   .setting[_ngcontent-%COMP%]{margin-bottom:1rem}.settings[_ngcontent-%COMP%]   .setting-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.town-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;top:22px;left:40px}.town-overlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:387px;height:374px}.town-overlay.castle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--castle)}.town-overlay.dungeon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--dungeon)}.town-overlay.necropolis[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--necropolis)}.town-overlay.tower[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--towers)}.town-overlay.rampart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--rampart)}.town-overlay.fortress[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--fortress)}.town-overlay.inferno[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--inferno)}.town-overlay.stronghold[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--stronghold)}.town-overlay.conflux[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--conflux)}.town-overlay.cove[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--cove)}.town-overlay.earth[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-earth)}.town-overlay.fire[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-fire)}.town-overlay.water[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-water)}.town-overlay.air[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-air)}"]})}return e})();var Gs=e=>["town-overlay",e];function Zs(e,n){if(e&1&&(h(0,"div",15),ci(),h(1,"svg",16)(2,"metadata"),b(3," Created by potrace 1.10, written by Peter Selinger 2001-2011 "),p(),h(4,"g",17),C(5,"path",18),p()()()),e&2){let t=Z();m("ngClass",ui(1,Gs,t.factionBorder()))}}var br=(()=>{class e{dialog;configService=g(me);signalStore=g(de);tileData=Q.required();dragPosition=U({x:0,y:0});image=B(()=>{let t=this.configService.TILES()[this.tileData().tileId];return t?t.img:"default"});desc=B(()=>this.tileData().tileId);rotation=B(()=>this.tileData().rotation*60+"deg");suggestedPlacement=B(()=>this.tileData().suggestedPlacement?.5:1);canHaveFactionBorder=B(()=>this.configService.getTileGroupById(this.tileData().tileId)=="RANDOM");factionBorder=B(()=>this.canHaveFactionBorder()?this.tileData().faction:"");ngOnInit(){this.snapToCell(this.generateId(this.tileData()))}snap(t){let i,o;t.type==="mouseup"?(i=t.clientX,o=t.clientY):(i=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY);let a=document.elementsFromPoint(i,o).find(s=>s.className==="cell");if(!a?.id){this.snapToCell(this.generateId(this.tileData()));return}this.snapToCell(a.id),this.saveTilePosition(a.id)}delete(){this.signalStore.deleteTile(this.tileData().id)}rotate(){let t=this.tileData().rotation+1;t>=6&&(t=0),this.signalStore.updateTile(_e(oe({},this.tileData()),{rotation:t}))}snapToCell=t=>{let i=document.getElementById(t);i&&this.dragPosition.set({x:i.offsetLeft-86,y:i.offsetTop-74})};saveTilePosition(t){let i=t.split(".").map(o=>Number(o));this.signalStore.updateTile(_e(oe({},this.tileData()),{row:i[0],col:i[1]}))}editTile(){let t=this.dialog.open(vr,{height:"500px",width:"100%",data:this.tileData()})}generateId(t){return`${t.row}.${t.col}`}constructor(t){this.dialog=t}static \u0275fac=function(i){return new(i||e)(H(bi))};static \u0275cmp=T({type:e,selectors:[["feature-tile"]],inputs:{tileData:[1,"tileData"]},decls:44,vars:33,consts:[["cdkDrag","",1,"tile",3,"cdkDragFreeDragPosition"],[1,"controls"],[1,"fa-solid","fa-pen",3,"click"],["cdkDragHandle","",1,"move",3,"mouseup","touchend"],[1,"fa-solid","fa-up-down-left-right"],[3,"click"],[1,"fa-regular","fa-trash-can"],[1,"rotate-button",3,"click"],[1,"fa-solid","fa-rotate-right"],[1,"game-components"],[1,"row"],[1,"cell"],[3,"id"],[3,"visible"],[3,"src","alt"],[3,"ngClass"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","300.000000pt","height","290.000000pt","viewBox","0 0 300.000000 290.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,290.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d",`M743 2749 l-243 -141 0 -291 -1 -292 -245 -140 -245 -141 0 -294 0
              -294 108 -62 c59 -35 170 -98 245 -141 l138 -78 0 -291 0 -292 238 -138 c131
              -77 248 -139 262 -139 14 0 128 60 263 138 l237 139 245 -142 c163 -94 252
              -141 264 -137 11 3 126 66 255 142 l236 137 0 294 c0 162 3 294 8 294 4 0 114
              62 245 138 l238 138 0 294 0 294 -153 89 c-84 49 -195 113 -245 143 l-93 55 0
              289 0 289 -42 25 c-24 13 -133 77 -243 141 -127 74 -208 115 -221 112 -11 -2
              -127 -65 -257 -141 l-236 -137 -243 140 c-133 78 -249 141 -258 141 -8 0 -124
              -63 -257 -141z m513 -65 c127 -73 237 -134 244 -134 7 0 119 62 249 137 130
              76 243 137 251 137 8 0 111 -55 228 -123 l212 -123 0 -282 c1 -205 4 -285 13
              -297 7 -9 57 -42 112 -74 55 -32 161 -93 235 -136 l135 -78 3 -260 2 -260 -77
              -44 c-267 -151 -399 -231 -408 -245 -6 -10 -12 -139 -15 -300 l-5 -283 -218
              -125 -217 -125 -173 99 c-94 55 -204 118 -243 141 -39 23 -77 41 -84 41 -7 0
              -122 -63 -256 -141 l-244 -141 -72 42 c-40 24 -139 81 -220 127 l-148 85 0
              284 c0 262 -1 285 -18 302 -10 10 -77 52 -148 93 -71 40 -141 81 -155 89 -14
              8 -60 34 -102 58 l-77 43 0 259 0 259 78 44 c42 24 122 70 177 102 55 32 127
              74 160 92 33 19 66 41 73 50 9 13 12 89 12 299 l0 282 218 126 c120 70 224
              123 232 120 8 -3 119 -66 246 -140z`]],template:function(i,o){i&1&&(h(0,"div",0)(1,"div",1)(2,"button")(3,"i",2),w("click",function(){return o.editTile()}),p()(),h(4,"span",3),w("mouseup",function(a){return o.snap(a)})("touchend",function(a){return o.snap(a)}),C(5,"i",4),p(),h(6,"button",5),w("click",function(){return o.delete()}),C(7,"i",6),p(),h(8,"button",7),w("click",function(){return o.rotate()}),C(9,"i",8),p()(),h(10,"div",9)(11,"div",10)(12,"div",11),C(13,"app-cube",12)(14,"app-portrait",12)(15,"app-blocked-hex",13),p(),h(16,"div",11),C(17,"app-cube",12)(18,"app-portrait",12)(19,"app-blocked-hex",13),p()(),h(20,"div",10)(21,"div",11),C(22,"app-cube",12)(23,"app-portrait",12)(24,"app-blocked-hex",13),p(),h(25,"div",11),C(26,"app-cube",12)(27,"app-portrait",12)(28,"app-blocked-hex",13),p(),h(29,"div",11),C(30,"app-cube",12)(31,"app-portrait",12)(32,"app-blocked-hex",13),p()(),h(33,"div",10)(34,"div",11),C(35,"app-cube",12)(36,"app-portrait",12)(37,"app-blocked-hex",13),p(),h(38,"div",11),C(39,"app-cube",12)(40,"app-portrait",12)(41,"app-blocked-hex",13),p()()(),C(42,"img",14),Y(43,Zs,6,3,"div",15),p()),i&2&&(m("cdkDragFreeDragPosition",o.dragPosition()),_(10),nt("rotate",o.rotation())("opacity",o.suggestedPlacement()),_(3),m("id",o.tileData().cubes[0]),_(),m("id",o.tileData().hero[0]),_(),m("visible",o.tileData().blockedHex[0]),_(2),m("id",o.tileData().cubes[1]),_(),m("id",o.tileData().hero[1]),_(),m("visible",o.tileData().blockedHex[1]),_(3),m("id",o.tileData().cubes[2]),_(),m("id",o.tileData().hero[2]),_(),m("visible",o.tileData().blockedHex[2]),_(2),m("id",o.tileData().cubes[3]),_(),m("id",o.tileData().hero[3]),_(),m("visible",o.tileData().blockedHex[3]),_(2),m("id",o.tileData().cubes[4]),_(),m("id",o.tileData().hero[4]),_(),m("visible",o.tileData().blockedHex[4]),_(3),m("id",o.tileData().cubes[5]),_(),m("id",o.tileData().hero[5]),_(),m("visible",o.tileData().blockedHex[5]),_(2),m("id",o.tileData().cubes[6]),_(),m("id",o.tileData().hero[6]),_(),m("visible",o.tileData().blockedHex[6]),_(),nt("rotate",o.rotation())("opacity",o.suggestedPlacement()),ke("src",o.image(),ft),ke("alt",o.desc()),_(),he(o.factionBorder()!==""?43:-1))},dependencies:[A,mi,mr,ur,Ei,Mi,Ri],styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;z-index:1;pointer-events:none}.tile[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.tile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:258px;height:249px}.tile[_ngcontent-%COMP%]:hover   .controls[_ngcontent-%COMP%]{opacity:1}.controls[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:all;opacity:0;transition:.2s opacity;color:#fff;z-index:3}.move[_ngcontent-%COMP%]{font-size:30px;filter:drop-shadow(0px 0px 6px #000000);margin:0 10px;cursor:grab}.move[_ngcontent-%COMP%]:active{cursor:grabbing}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:30px;filter:drop-shadow(0px 0px 6px #000000);background-color:transparent;color:#fff;border:none;cursor:pointer}.rotate-button[_ngcontent-%COMP%]{position:absolute;top:60px}.game-components[_ngcontent-%COMP%]{position:absolute;pointer-events:none;height:100%;z-index:1}.game-components[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;margin-bottom:-25px}.game-components[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(1), .game-components[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(3){margin-left:44.5px}.game-components[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{position:relative;width:86px;height:100px}.game-components[_ngcontent-%COMP%]   app-cube[_ngcontent-%COMP%]{position:absolute;top:10px;left:33px;transform:scale(.7)}.game-components[_ngcontent-%COMP%]   app-portrait[_ngcontent-%COMP%]{position:absolute;left:43px;top:50px;transform:translate(-50%) translateY(-50%)}.game-components[_ngcontent-%COMP%]   app-blocked-hex[_ngcontent-%COMP%]{position:absolute;top:-26px;left:-22.5px;transform:scale(.69)}.town-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.town-overlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:258px;height:249px}.town-overlay.castle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--castle)}.town-overlay.dungeon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--dungeon)}.town-overlay.necropolis[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--necropolis)}.town-overlay.tower[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--towers)}.town-overlay.rampart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--rampart)}.town-overlay.fortress[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--fortress)}.town-overlay.inferno[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--inferno)}.town-overlay.stronghold[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--stronghold)}.town-overlay.conflux[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--conflux)}.town-overlay.cove[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--cove)}.town-overlay.earth[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-earth)}.town-overlay.fire[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-fire)}.town-overlay.water[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-water)}.town-overlay.air[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{fill:var(--elemental-air)}"]})}return e})();function Vs(e,n){if(e&1&&C(0,"feature-tile",1),e&2){let t=n.$implicit;m("tileData",t)}}var wr=(()=>{class e{store;tiles$;containerHeight$;containerWidth$;signalStore=g(de);constructor(t){this.store=t,this.tiles$=this.signalStore.tileList,this.containerHeight$=B(()=>{let i=0;return this.tiles$().forEach(o=>{o.row>i&&(i=o.row)}),(i+2)*100+(i+1)*-26+"px"}),this.containerWidth$=B(()=>{let i=0;return this.tiles$().forEach(o=>{o.col>i&&(i=o.col)}),(i+2)*86+"px"})}ngOnInit(){}static \u0275fac=function(i){return new(i||e)(H(ue))};static \u0275cmp=T({type:e,selectors:[["placed-tiles"]],decls:3,vars:4,consts:[["id","placedTiles"],[3,"tileData"]],template:function(i,o){i&1&&(h(0,"div",0),se(1,Vs,1,1,"feature-tile",1,ae),p()),i&2&&(nt("height",o.containerHeight$())("width",o.containerWidth$()),_(),le(o.signalStore.tileList()))},dependencies:[A,br],styles:["[_nghost-%COMP%]{pointer-events:none;display:block;position:absolute;top:0;left:0}"]})}return e})();var Cr=(()=>{class e{dialogRef;constructor(t){this.dialogRef=t}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(H(Re))};static \u0275cmp=T({type:e,selectors:[["app-about-dialog"]],decls:43,vars:0,consts:[["title","About",3,"closeDialog"],[1,"about"],["href","https://discord.com/channels/740870068178649108/1167118071748628480"],["href","https://github.com/zedero/HoMM3BoardgameScenarioEditor/issues"]],template:function(i,o){i&1&&(h(0,"homm-dialog",0),w("closeDialog",function(){return o.close()}),h(1,"div",1)(2,"h3"),b(3,"Created by:"),p(),h(4,"p")(5,"b"),b(6,"Zedero (Patrick Kersten)"),p(),b(7," to assist the creative minds of the HoMM3 Boardgame community create their own maps and scenario's."),p(),C(8,"br"),h(9,"h3"),b(10,"Special thanks to:"),p(),h(11,"p")(12,"b"),b(13,"Archon Studio"),p(),b(14," for creating this wonderfull boardgame. "),C(15,"br"),h(16,"b"),b(17,"Ioan"),p(),b(18,": For providing me with HD assets making the initial tiles so much better. "),C(19,"br"),h(20,"b"),b(21,"UseCactus"),p(),b(22,": For some great UI feedback. "),C(23,"br"),h(24,"b"),b(25,"Tomas Zeman"),p(),b(26,": For providing the editor with tile scans. "),p(),C(27,"br"),h(28,"p"),b(29,"And not to forget, many thanks to the "),h(30,"b"),b(31,"HoMM3 Boardgame community"),p(),b(32," for their support and feedback."),p(),h(33,"h3"),b(34,"Suggestions / bugs / feedback"),p(),h(35,"p"),b(36,"If you have any suggestions, found any bugs or just want to provide some feedback, feel free to either post a message at "),h(37,"a",2),b(38,"Discord"),p(),b(39," or on "),h(40,"a",3),b(41,"Github"),p(),b(42,"."),p()()())},dependencies:[A,Oe],styles:[".about[_ngcontent-%COMP%]{color:#fff}.about[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--primary)}"]})}return e})();var Ki=us(ls());var Yn=class{_document;_textarea;constructor(n,t){this._document=t;let i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let n=this._textarea,t=!1;try{if(n){let i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=void 0)}},Nd=(()=>{class e{_document=g(Ft);constructor(){}copy(t){let i=this.beginCopy(t),o=i.copy();return i.destroy(),o}beginCopy(t){return new Yn(t,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ld=new Se("CDK_COPY_TO_CLIPBOARD_CONFIG"),ds=(()=>{class e{_clipboard=g(Nd);_ngZone=g(Ze);text="";attempts=1;copied=new re;_pending=new Set;_destroyed;_currentTimeout;constructor(){let t=g(Ld,{optional:!0});t&&t.attempts!=null&&(this.attempts=t.attempts)}copy(t=this.attempts){if(t>1){let i=t,o=this._clipboard.beginCopy(this.text);this._pending.add(o);let r=()=>{let a=o.copy();!a&&--i&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(r,1)):(this._currentTimeout=null,this._pending.delete(o),o.destroy(),this.copied.emit(a))};r()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}static \u0275fac=function(i){return new(i||e)};static \u0275dir=it({type:e,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,o){i&1&&w("click",function(){return o.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}return e})();var cs=(()=>{class e{store;dialogRef;tileList;exportValue;importValue=U("");signalStore=g(de);constructor(t,i){this.store=t,this.dialogRef=i,this.tileList=this.signalStore.tileList,this.exportValue=B(()=>{let o={to:"string"},r=Ki.deflate(JSON.stringify(this.tileList()),o);return btoa(r)})}import(){let t={to:"string"},i=atob(this.importValue()),o=Ki.inflate(i,t),r=JSON.parse(o);this.signalStore.setTileList(this.updateTileListData(r)),this.close()}close(){this.dialogRef.close()}updateTileListData(t){return t.map(o=>oe(oe({},yo),o)).map(o=>{let r=o.hero.map(a=>a===0?"":a);return _e(oe({},o),{hero:r})})}static \u0275fac=function(i){return new(i||e)(H(ue),H(Re))};static \u0275cmp=T({type:e,selectors:[["feature-import-export"]],decls:15,vars:3,consts:[["title","Import / Export Map",3,"closeDialog"],[1,"container"],[1,"column"],[3,"ngModelChange","ngModel"],["theme","secondary",3,"click"],["theme","secondary",3,"cdkCopyToClipboard"]],template:function(i,o){i&1&&(h(0,"homm-dialog",0),w("closeDialog",function(){return o.close()}),h(1,"div",1)(2,"div",2)(3,"label"),b(4,"Import Map"),p(),h(5,"textarea",3),Te("ngModelChange",function(a){return Me(o.importValue,a)||(o.importValue=a),a}),p(),h(6,"homm-button",4),w("click",function(){return o.import()}),b(7,"Import Map"),p()(),h(8,"div",2)(9,"label"),b(10,"Export Map"),p(),h(11,"textarea"),b(12),p(),h(13,"homm-button",5),b(14,"Copy to clipboard"),p()()()()),i&2&&(_(5),Ee("ngModel",o.importValue),_(7),Pe(o.exportValue()),_(),m("cdkCopyToClipboard",o.exportValue()))},dependencies:[A,Oe,Ke,We,Oo,je,qe,ds],styles:[".container[_ngcontent-%COMP%]{display:flex;gap:15px}.column[_ngcontent-%COMP%]{margin-bottom:20px;flex-basis:50%}.column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:18px}textarea[_ngcontent-%COMP%]{display:block;width:100%;min-height:75px;margin-bottom:10px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]})}return e})();var $n=(()=>{class e{_listeners=[];notify(t,i){for(let o of this._listeners)o(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zd=["input"],Bd=["formField"],Hd=["*"],Yi=class{source;value;constructor(n,t){this.source=n,this.value=t}},Gd={provide:Ro,useExisting:co(()=>Xn),multi:!0},hs=new Se("MatRadioGroup"),Zd=new Se("mat-radio-default-options",{providedIn:"root",factory:Vd});function Vd(){return{color:"accent",disabledInteractive:!1}}var Xn=(()=>{class e{_changeDetector=g(It);_value=null;_name=g(en).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new re;_radios;color;get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Yi(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=it({type:e,selectors:[["mat-radio-group"]],contentQueries:function(i,o,r){if(i&1&&bo(r,Qn,5),i&2){let a;_i(a=fi())&&(o._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",fe],required:[2,"required","required",fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",fe]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Ot([Gd,{provide:hs,useExisting:e}])]})}return e})(),Qn=(()=>{class e{_elementRef=g(_t);_changeDetector=g(It);_focusMonitor=g(Mo);_radioDispatcher=g($n);_defaultOptions=g(Zd,{optional:!0});_ngZone=g(Ze);_renderer=g(fo);_uniqueId=g(en).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new re;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=g(hi);constructor(){g(vi).load(zo);let t=g(hs,{optional:!0}),i=g(_o,{optional:!0}),o=g(new po("tabindex"),{optional:!0});this.radioGroup=t,this._noopAnimations=i==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,o&&(this.tabIndex=At(o,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Yi(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault()};_updateTabIndex(){let t=this.radioGroup,i;if(!t||!t.selected||this.disabled?i=this.tabIndex:i=t.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i,pi(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===o&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===o&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=T({type:e,selectors:[["mat-radio-button"]],viewQuery:function(i,o){if(i&1&&(Ji(zd,5),Ji(Bd,7,_t)),i&2){let r;_i(r=fi())&&(o._inputElement=r.first),_i(r=fi())&&(o._rippleTrigger=r.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,o){i&1&&w("focus",function(){return o._inputElement.nativeElement.focus()}),i&2&&(ut("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Mt("mat-primary",o.color==="primary")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("mat-mdc-radio-checked",o.checked)("mat-mdc-radio-disabled",o.disabled)("mat-mdc-radio-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",fe],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:At(t)],checked:[2,"checked","checked",fe],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",fe],required:[2,"required","required",fe],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",fe]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:Hd,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,o){if(i&1){let r=xe();go(),h(0,"div",2,0)(2,"div",3)(3,"div",4),w("click",function(s){return $(r),X(o._onTouchTargetClick(s))}),p(),h(4,"input",5,1),w("change",function(s){return $(r),X(o._onInputInteraction(s))}),p(),h(6,"div",6),C(7,"div",7)(8,"div",8),p(),h(9,"div",9),C(10,"div",10),p()(),h(11,"label",11),vo(12),p()()}i&2&&(m("labelPosition",o.labelPosition),_(2),Mt("mdc-radio--disabled",o.disabled),_(2),m("id",o.inputId)("checked",o.checked)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),ut("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),_(5),m("matRippleTrigger",o._rippleTrigger.nativeElement)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),_(2),m("for",o.inputId))},dependencies:[Bo,Lo],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return e})();function jd(e,n){if(e&1){let t=xe();h(0,"mat-checkbox",11),w("change",function(o){let r=$(t).$implicit,a=Z();return X(a.checkExpansion(r.name,o))}),b(1),p()}if(e&2){let t=n.$implicit,i=Z();m("checked",i.expansionsFilterSettings()[t.name]),_(),Pe(t.desc)}}function qd(e,n){if(e&1){let t=xe();h(0,"mat-radio-button",12),w("change",function(){let o=$(t).$implicit,r=Z();return X(r.selectMapSize(o.value))}),b(1),p()}if(e&2){let t=n.$implicit;m("value",t.value),_(),Rt(" ",t.name," ")}}function Wd(e,n){if(e&1){let t=xe();h(0,"mat-radio-button",12),w("change",function(){let o=$(t).$implicit,r=Z();return X(r.selectPlayerCount(o.value))}),b(1),p()}if(e&2){let t=n.$implicit;m("value",t.value),_(),Rt(" ",t.name," ")}}function Kd(e,n){if(e&1){let t=xe();h(0,"mat-checkbox",11),w("change",function(o){let r=$(t).$implicit,a=Z(2);return X(a.toggleSetting(r.name,o))}),b(1),p(),C(2,"br")}if(e&2){let t=n.$implicit,i=Z(2);m("checked",i.flipTilesSettings()[t.name]),_(),Pe(t.desc)}}function Yd(e,n){if(e&1&&se(0,Kd,3,2,null,null,ae),e&2){let t=Z();le(t.flip())}}var ps=(()=>{class e{dialogRef;config;_formBuilder;store;sets;expansionsFilter;expansionsFilterSettings;flipTilesSettings;selectedMapSize=U("MEDIUM");savedMapSize;mapSizeOptions=[{value:"SMALL",name:"S"},{value:"MEDIUM",name:"M"},{value:"LARGE",name:"L"}];selectedPlayers=U(2);savedPlayerCount;playerOptions=[{value:1,name:"1"},{value:2,name:"2"},{value:3,name:"3"},{value:4,name:"4"},{value:5,name:"5"},{value:6,name:"6"}];flip=U([{name:"TOWN",desc:"town"}]);constructor(t,i,o,r){this.dialogRef=t,this.config=i,this._formBuilder=o,this.store=r,this.savedMapSize=this.store.selectSignal(Vo),this.selectedMapSize.set(this.savedMapSize()),this.savedPlayerCount=this.store.selectSignal(Uo),this.selectedPlayers.set(this.savedPlayerCount()),this.sets=this._formBuilder.group(this.generateFormBuilderGroup(i.EXPANSION_FILTER_DESC())),this.expansionsFilterSettings=this.store.selectSignal(Go);let a=this.store.selectSignal(Zo);this.flipTilesSettings=a,this.expansionsFilter=this.generateFilterList(i.EXPANSION(),i.EXPANSION_FILTER_DESC())}ngOnInit(){this.flip.set([{name:"flipTownTiles",desc:"town"},{name:"flipFarTiles",desc:"far"},{name:"flipNearTiles",desc:"near"},{name:"flipCenterTiles",desc:"center"}])}checkExpansion(t,i){this.store.dispatch(zt.changeExpansionFilter({set:t,isChecked:i.checked}))}selectMapSize(t){this.store.dispatch(zt.setMapSize({size:t}))}selectPlayerCount(t){this.store.dispatch(zt.setPlayerCount({count:t}))}toggleSetting(t,i){this.store.dispatch(zt.changeTileGroupFlipped({group:t,isChecked:i.checked}))}generateFormBuilderGroup(t){let i={};return Object.keys(t).forEach(o=>{i[o]=!0}),Object.entries(this.config.filterOptions).forEach(([o,r])=>{i[o]&&(i[o]=r)}),i}generateFilterList(t,i){return Object.keys(t).filter(r=>isNaN(parseInt(r))).map(r=>({name:r,desc:i[r]}))}generateRandomMap(){this.store.dispatch(Lt.generateRandomMap()),this.close()}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(H(Re),H(me),H(Fo),H(ue))};static \u0275cmp=T({type:e,selectors:[["lib-random-map-dialog"]],decls:26,vars:4,consts:[["title","Generate random map",3,"closeDialog"],["sub-header",""],[1,"filter",3,"formGroup"],[1,"formTitle"],[3,"checked"],[1,"formBlock"],[1,"formBlock-title"],["aria-labelledby","mapsize-group-label",1,"mapSize",3,"ngModelChange","ngModel"],[3,"value"],["aria-labelledby","player-count-group-label",1,"mapSize",3,"ngModelChange","ngModel"],["theme","secondary",3,"click"],[3,"change","checked"],[3,"change","value"]],template:function(i,o){i&1&&(h(0,"homm-dialog",0),w("closeDialog",function(){return o.close()}),h(1,"div",1)(2,"div",2)(3,"span",3),b(4,"Expansions:"),p(),se(5,jd,2,2,"mat-checkbox",4,ae),p()(),h(7,"div",5)(8,"div",6),b(9,"Map size"),p(),h(10,"mat-radio-group",7),Te("ngModelChange",function(a){return Me(o.selectedMapSize,a)||(o.selectedMapSize=a),a}),se(11,qd,2,2,"mat-radio-button",8,ae),p()(),h(13,"div",5)(14,"div",6),b(15,"Player count"),p(),h(16,"mat-radio-group",9),Te("ngModelChange",function(a){return Me(o.selectedPlayers,a)||(o.selectedPlayers=a),a}),se(17,Wd,2,2,"mat-radio-button",8,ae),p()(),h(19,"div",5)(20,"div",6),b(21,"Flip Tiles"),p(),Y(22,Yd,2,0),p(),C(23,"hr"),h(24,"homm-button",10),w("click",function(){return o.generateRandomMap()}),b(25,"Generate Random Map"),p()()),i&2&&(_(2),m("formGroup",o.sets),_(3),le(o.expansionsFilter),_(5),Ee("ngModel",o.selectedMapSize),_(),le(o.mapSizeOptions),_(5),Ee("ngModel",o.selectedPlayers),_(),le(o.playerOptions),_(5),he(o.flip()?22:-1))},dependencies:[A,Oe,We,je,Io,qe,yi,No,Ao,Qn,Xn,Ke],styles:[".mdc-form-field>label{margin-left:-7px!important;color:var(--primary)}mat-checkbox[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]     .mdc-checkbox__background{background:transparent!important;border:2px solid #0c0800!important;border-top-color:#a7a29a!important;border-left-color:#2b4289!important}[_nghost-%COMP%]     .mdc-checkbox__background svg{color:var(--primary)!important}.formBlock[_ngcontent-%COMP%]{margin-bottom:15px}.formBlock[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:50%}.formBlock[_ngcontent-%COMP%]   .formBlock-title[_ngcontent-%COMP%]{font-size:17px;margin-bottom:5px}[_nghost-%COMP%]     .mapSize .mdc-radio, [_nghost-%COMP%]     .players .mdc-radio{display:none}[_nghost-%COMP%]     .mapSize .mdc-label, [_nghost-%COMP%]     .players .mdc-label{display:flex;justify-content:center;align-items:center;padding:0;margin-right:5px;font-size:20px;font-family:Comic Sans MS;width:40px;height:40px;color:#ffe98c;border:3px solid #0c0800;border-top-color:#a7a29a;border-left-color:#a7a29a;transition:border .2s,background-color .2s;background:#0003;cursor:pointer}[_nghost-%COMP%]     .mapSize .mat-mdc-radio-checked .mdc-label, [_nghost-%COMP%]     .players .mat-mdc-radio-checked .mdc-label{color:var(--primary);border-color:var(--primary);border-top-color:#a7a29a;border-left-color:#898278;background:#0006}[_nghost-%COMP%]     .players .mdc-label{font-family:Times New Roman;font-size:24px;font-weight:700}hr[_ngcontent-%COMP%]{border:2px solid #2b4289;border-top-color:#0b0a08}"]})}return e})();var _s=(()=>{class e{dialogRef;tileMapService=g(mt);constructor(t){this.dialogRef=t}moveUpLeft(){this.tileMapService.moveAllUpLeft()}moveUpRight(){this.tileMapService.moveAllUpRight()}moveLeft(){this.tileMapService.moveAllLeft()}moveRight(){this.tileMapService.moveAllRight()}moveDownLeft(){this.tileMapService.moveDownLeft()}moveDownRight(){this.tileMapService.moveDownRight()}close(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(H(Re))};static \u0275cmp=T({type:e,selectors:[["lib-move-tiles-dialog"]],decls:11,vars:6,consts:[["title","Move tiles",3,"closeDialog"],[1,"moveMenu","dialog"],[1,"rot-left",3,"click","iconLeft"],[1,"rot-right",3,"click","iconLeft"],[1,"more-space",3,"click","iconLeft"],[3,"click","iconLeft"]],template:function(i,o){i&1&&(h(0,"homm-dialog",0),w("closeDialog",function(){return o.close()}),h(1,"div",1)(2,"div")(3,"homm-button",2),w("click",function(){return o.moveUpLeft()}),p(),h(4,"homm-button",3),w("click",function(){return o.moveUpRight()}),p()(),h(5,"div")(6,"homm-button",4),w("click",function(){return o.moveLeft()}),p(),h(7,"homm-button",5),w("click",function(){return o.moveRight()}),p()(),h(8,"div")(9,"homm-button",3),w("click",function(){return o.moveDownLeft()}),p(),h(10,"homm-button",2),w("click",function(){return o.moveDownRight()}),p()()()()),i&2&&(_(3),m("iconLeft","up-long"),_(),m("iconLeft","up-long"),_(2),m("iconLeft","left-long"),_(),m("iconLeft","right-long"),_(2),m("iconLeft","down-long"),_(),m("iconLeft","down-long"))},dependencies:[A,Oe,Ke],styles:["[_nghost-%COMP%]     .rot-left i{rotate:-45deg}[_nghost-%COMP%]     .rot-right i{rotate:45deg}[_nghost-%COMP%]     homm-button button{margin:0;height:40px;width:40px}.more-space[_ngcontent-%COMP%]{margin-right:55px}.moveMenu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:10px}"]})}return e})();var fs=(()=>{class e{store;dialog;signalStore=g(de);tileMapService=g(mt);generateImage(){this.store.dispatch(Lt.generateImage())}clearTileMap(){this.signalStore.setTileList([])}showAbout(){let t=this.dialog.open(Cr,{height:"500px",width:"100%"})}showImportExport(){let t=this.dialog.open(cs,{height:"500px",width:"100%"})}showMapGenerator(){let t=this.dialog.open(ps,{height:"500px",width:"100%"})}generateRandomMap(){this.store.dispatch(Lt.generateRandomMap())}moveTiles(){let t=this.dialog.open(_s,{height:"250px",width:"55px"})}updateRows(t){this.signalStore.setGrid(t,this.signalStore.grid.columns())}updateCols(t){this.signalStore.setGrid(this.signalStore.grid.rows(),t)}constructor(t,i){this.store=t,this.dialog=i}static \u0275fac=function(i){return new(i||e)(H(ue),H(bi))};static \u0275cmp=T({type:e,selectors:[["feature-footer"]],decls:14,vars:2,consts:[[1,"footer"],["labelLeft","Rows:",3,"valueChange","value"],["labelLeft","Cols:",3,"valueChange","value"],["iconLeft","up-down-left-right",3,"click"],[3,"click"],["iconLeft","gear",1,"no-gap-left",3,"click"],["theme","warning",3,"click"],["iconLeft","question",3,"click"]],template:function(i,o){i&1&&(h(0,"div",0)(1,"homm-number-input",1),w("valueChange",function(a){return o.updateRows(a)}),p(),h(2,"homm-number-input",2),w("valueChange",function(a){return o.updateCols(a)}),p(),h(3,"homm-button",3),w("click",function(){return o.moveTiles()}),p(),h(4,"homm-button",4),w("click",function(){return o.generateRandomMap()}),b(5,"Generate Random Map"),p(),h(6,"homm-button",5),w("click",function(){return o.showMapGenerator()}),p(),h(7,"homm-button",4),w("click",function(){return o.showImportExport()}),b(8,"Import / Export"),p(),h(9,"homm-button",6),w("click",function(){return o.clearTileMap()}),b(10,"Clear Map"),p(),h(11,"homm-button",4),w("click",function(){return o.generateImage()}),b(12,"Generate image"),p(),h(13,"homm-button",7),w("click",function(){return o.showAbout()}),p()()),i&2&&(_(),m("value",o.signalStore.grid.rows()),_(),m("value",o.signalStore.grid.columns()))},dependencies:[A,Ke,Ho],styles:['[_nghost-%COMP%]{position:fixed;bottom:0;left:0;z-index:100;width:100%}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-wrap:wrap;gap:1rem;background-color:#fff;background-image:url("./media/dialog-background-D2VXJJTS.png");background-repeat:repeat;padding:10px;border-image-source:linear-gradient(to bottom,#b4a46d,#9e8236);border-image-slice:3;border-image-width:3px}.footer[_ngcontent-%COMP%]   .no-gap-left[_ngcontent-%COMP%]{margin-left:-1rem}']})}return e})();function $d(e,n){e&1&&(h(0,"div",0),b(1,"The current tile placement is invalid. Connect all tiles and make sure borders dont isolate tiles"),p())}var $_=(()=>{class e{dataConfigService;store;tileMapService=g(mt);isValid=B(()=>this.tileMapService.isValid());constructor(t,i){this.dataConfigService=t,this.store=i}static \u0275fac=function(i){return new(i||e)(H(me),H(ue))};static \u0275cmp=T({type:e,selectors:[["feature-editor-base"]],decls:5,vars:1,consts:[[1,"invalid-map"],[1,"background"]],template:function(i,o){i&1&&(Y(0,$d,2,0,"div",0),C(1,"div",1)(2,"feature-grid")(3,"placed-tiles")(4,"feature-footer")),i&2&&he(o.isValid()?-1:0)},dependencies:[A,qo,wr,fs],styles:['.background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;opacity:1;background-image:url("./media/void-3TSXDNXU.png");background-position:center center}.background[_ngcontent-%COMP%]:after{content:"";display:block;height:100%;inset:0;width:100%}.invalid-map[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;padding:10px;background-color:red;color:#fff;font-weight:700;z-index:1000;opacity:.75;pointer-events:none;transition:.25s opacity}.invalid-map.show[_ngcontent-%COMP%]{opacity:.75}']})}return e})();export{$_ as MapEditorComponent};
